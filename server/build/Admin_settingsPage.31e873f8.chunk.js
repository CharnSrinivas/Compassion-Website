/*! For license information please see Admin_settingsPage.31e873f8.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkserver=self.webpackChunkserver||[]).push([[5895],{78924:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(53547)),o=n(r(45697)),i=n(r(78384)),l=r(97132),u=r(54451),c=r(15577),s=r(49549),d=r(31512),f=r(94117),p=r(40264),m=r(33483),h=r(9524),y=n(r(74657)),v=n(r(7228)),g=r(79835),b=n(r(12285)),O=n(r(31652)),w=i.default.div.withConfig({displayName:"UpgradePlanModal__UpgradeWrapper",componentId:"sc-8aur7y-0"})(["position:absolute;z-index:3;inset:0;background:",";padding:0 ",";"],(function(e){var t=e.theme;return(0,g.setHexOpacity)(t.colors.neutral800,.2)}),(function(e){return e.theme.spaces[8]})),E=(0,i.default)(p.Flex).withConfig({displayName:"UpgradePlanModal__UpgradeContainer",componentId:"sc-8aur7y-1"})(["position:relative;max-width:","rem;height:","rem;margin:0 auto;overflow:hidden;margin-top:10%;padding-left:","rem;img:first-of-type{position:absolute;right:0;top:0;max-width:","rem;}img:not(:first-of-type){width:","rem;margin-left:12%;margin-right:","rem;z-index:0;}"],51.875,415/16,4,22.5,8.125,1.25),C=(0,i.default)(h.Stack).withConfig({displayName:"UpgradePlanModal__StackFlexStart",componentId:"sc-8aur7y-2"})(["align-items:flex-start;max-width:","rem;z-index:0;"],25),j=(0,i.default)(f.Box).withConfig({displayName:"UpgradePlanModal__CloseButtonContainer",componentId:"sc-8aur7y-3"})(["position:absolute;right:",";top:",";"],(function(e){return e.theme.spaces[4]}),(function(e){return e.theme.spaces[4]})),P=function(e){var t=e.onClose,r=e.isOpen;(0,g.useLockScroll)(r);var n=(0,l.useIntl)().formatMessage;return r?a.default.createElement(u.Portal,null,a.default.createElement(w,{onClick:t},a.default.createElement(c.FocusTrap,{onEscape:t},a.default.createElement(E,{onClick:function(e){return e.stopPropagation()},"aria-labelledby":"upgrade-plan",background:"neutral0",hasRadius:!0},a.default.createElement("img",{src:b.default,alt:"air-balloon"}),a.default.createElement(j,null,a.default.createElement(s.IconButton,{onClick:t,"aria-label":"Close",icon:a.default.createElement(v.default,null)})),a.default.createElement(C,{size:6},a.default.createElement(m.Typography,{fontWeight:"bold",textColor:"primary600"},n({id:"app.components.UpgradePlanModal.text-ce",defaultMessage:"COMMUNITY EDITION"})),a.default.createElement(h.Stack,{size:2},a.default.createElement(m.Typography,{variant:"alpha",as:"h2",id:"upgrade-plan"},n({id:"app.components.UpgradePlanModal.limit-reached",defaultMessage:"You have reached the limit"})),a.default.createElement(m.Typography,null,n({id:"app.components.UpgradePlanModal.text-power",defaultMessage:"Unlock the full power of Strapi by upgrading your plan to the Enterprise Edition"}))),a.default.createElement(d.LinkButton,{href:"https://strapi.io/pricing-self-hosted",endIcon:a.default.createElement(y.default,null)},n({id:"app.components.UpgradePlanModal.button",defaultMessage:"Learn more"}))),a.default.createElement("img",{src:O.default,alt:"upgrade-arrow"}))))):null};P.propTypes={onClose:o.default.func.isRequired,isOpen:o.default.bool.isRequired};var k=P;t.default=k},37077:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(59713)),o=n(r(53547)),i=r(29491),l=r(97132),u=n(r(45697)),c=r(77040);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(e){var t=e.menu,r=(0,l.useIntl)().formatMessage,n=(0,c.getSectionsToDisplay)(t).map((function(e){return d(d({},e),{},{title:e.intlLabel,links:e.links.map((function(e){return d(d({},e),{},{title:e.intlLabel,name:e.id})}))})})),a=r({id:"app.components.LeftMenuLinkContainer.settings"});return o.default.createElement(i.SubNav,{ariaLabel:a},o.default.createElement(i.SubNavHeader,{label:a}),o.default.createElement(i.SubNavSections,null,n.map((function(e){return o.default.createElement(i.SubNavSection,{key:e.id,label:r(e.intlLabel)},e.links.map((function(e){return o.default.createElement(i.SubNavLink,{withBullet:e.hasNotification,to:e.to,key:e.id},r(e.intlLabel))})))}))))};f.propTypes={menu:u.default.array.isRequired};var p=f;t.default=p},91097:(e,t,r)=>{var n=r(95318),a=r(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsPage=v,t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(53547)),i=r(79835),l=r(39711),u=r(35395),c=r(97132),s=r(15482),d=r(63376),f=r(26595),p=n(r(70512)),m=r(77040),h=n(r(37077));function y(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}function v(){var e=(0,l.useParams)().settingId,t=(0,i.useStrapiApp)().settings,r=(0,c.useIntl)().formatMessage,n=(0,d.useSettingsMenu)(),a=n.isLoading,y=n.menu,v=(0,o.useMemo)((function(){return(0,f.makeUniqueRoutes)(m.routes.map((function(e){var t=e.to,r=e.Component,n=e.exact;return(0,f.createRoute)(r,t,n)})))}),[]),g=(0,m.createSectionsRoutes)(t);if(a)return o.default.createElement(i.LoadingIndicatorPage,null);if(!e)return o.default.createElement(l.Redirect,{to:"/settings/application-infos"});var b=r({id:"app.components.LeftMenuLinkContainer.settings",defaultMessage:"Settings"});return o.default.createElement(u.Layout,{sideNav:o.default.createElement(h.default,{menu:y})},o.default.createElement(s.Helmet,{title:b}),o.default.createElement(l.Switch,null,o.default.createElement(l.Route,{path:"/settings/application-infos",component:p.default,exact:!0}),v,g))}var g=(0,o.memo)(v);t.default=g},70512:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(53547)),o=r(97132),i=r(79835),l=r(35395),u=r(80117),c=r(94117),s=r(39272),d=r(33483),f=r(9524),p=r(56156),m=n(r(74657)),h=function(){var e=(0,o.useIntl)().formatMessage;(0,i.useFocusWhenNavigate)();var t=(0,i.useAppInfos)(),r=t.shouldUpdateStrapi,n=t.latestStrapiReleaseTag,h=t.strapiVersion,y=t.communityEdition?"app.components.UpgradePlanModal.text-ce":"app.components.UpgradePlanModal.text-ee";return a.default.createElement(l.Layout,null,a.default.createElement(i.SettingsPageTitle,{name:"Application"}),a.default.createElement(u.Main,null,a.default.createElement(l.HeaderLayout,{title:e({id:"Settings.application.title",defaultMessage:"Overview"}),subtitle:e({id:"Settings.application.description",defaultMessage:"Administration panel\u2019s global information"})}),a.default.createElement(l.ContentLayout,null,a.default.createElement(c.Box,{hasRadius:!0,background:"neutral0",shadow:"tableShadow",paddingTop:7,paddingBottom:7,paddingRight:6,paddingLeft:6},a.default.createElement(f.Stack,{size:5},a.default.createElement(d.Typography,{variant:"delta",as:"h3"},e({id:"Settings.application.details",defaultMessage:"Details"})),a.default.createElement(s.Grid,{paddingTop:1},a.default.createElement(s.GridItem,{col:6,s:12},a.default.createElement(d.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"Settings.application.strapiVersion",defaultMessage:"strapi version"})),a.default.createElement(d.Typography,{as:"p"},"v",h),a.default.createElement(p.Link,{href:t.communityEdition?"https://discord.strapi.io":"https://support.strapi.io/support/home",endIcon:a.default.createElement(m.default,null)},e({id:"Settings.application.get-help",defaultMessage:"Get help"}))),a.default.createElement(s.GridItem,{col:6,s:12},a.default.createElement(d.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"Settings.application.edition-title",defaultMessage:"current plan"})),a.default.createElement(d.Typography,{as:"p"},e({id:y,defaultMessage:"".concat(t.communityEdition?"Community Edition":"Enterprise Edition")})))),a.default.createElement(s.Grid,{paddingTop:1},a.default.createElement(s.GridItem,{col:6,s:12},r&&a.default.createElement(p.Link,{href:"https://github.com/strapi/strapi/releases/tag/".concat(n),endIcon:a.default.createElement(m.default,null)},e({id:"Settings.application.link-upgrade",defaultMessage:"Upgrade your admin panel"}))),a.default.createElement(s.GridItem,{col:6,s:12},a.default.createElement(p.Link,{href:"https://strapi.io/pricing-self-hosted",endIcon:a.default.createElement(m.default,null)},e({id:"Settings.application.link-pricing",defaultMessage:"See all pricing plans"})))),a.default.createElement(c.Box,{paddingTop:1},a.default.createElement(d.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"Settings.application.node-version",defaultMessage:"node version"})),a.default.createElement(d.Typography,{as:"p"},t.nodeVersion)))))))};t.default=h},7126:(e,t,r)=>{var n=r(95318);t.Z=void 0;var a=n(r(53547)),o=r(39711),i=function(){return a.default.createElement(o.Redirect,{to:"/404"})};t.Z=i},21950:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(78384)),o=r(40264),i=(0,a.default)(o.Flex).withConfig({displayName:"CollapseLabel",componentId:"sc-1ssinbk-0"})(["padding-right:",";overflow:hidden;flex:1;",""],(function(e){return e.theme.spaces[2]}),(function(e){return e.isCollapsable&&"cursor: pointer;"}));t.default=i},30380:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(53547)),o=n(r(45697)),i=n(r(17581)),l=r(64459),u=r(97132),c=n(r(78384)),s=c.default.div.withConfig({displayName:"ConditionsButton__Wrapper",componentId:"sc-wd45es-0"})(["position:relative;",""],(function(e){var t=e.hasConditions,r=e.disabled,n=e.theme;return t&&"\n    &:before {\n      content: '';\n      position: absolute;\n      top: -3px;\n      left: -10px;\n      width: 6px;\n      height: 6px;\n      border-radius: ".concat(1.25,"rem;;\n      background: ").concat(r?n.colors.neutral100:n.colors.primary600,";\n    }\n  ")})),d=function(e){var t=e.onClick,r=e.className,n=e.hasConditions,o=e.variant,c=(0,u.useIntl)().formatMessage;return a.default.createElement(s,{hasConditions:n,className:r},a.default.createElement(l.Button,{variant:o,startIcon:a.default.createElement(i.default,null),onClick:t},c({id:"app.components.LeftMenuLinkContainer.settings",defaultMessage:"Settings"})))};d.defaultProps={className:null,hasConditions:!1,variant:"tertiary"},d.propTypes={onClick:o.default.func.isRequired,className:o.default.string,hasConditions:o.default.bool,variant:o.default.string};var f=(0,c.default)(d).withConfig({displayName:"ConditionsButton",componentId:"sc-wd45es-1"})([""]);t.default=f},86907:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(59713)),o=n(r(319)),i=n(r(63038)),l=n(r(53547)),u=n(r(45697)),c=r(94117),s=r(40264),d=r(33483),f=r(2632),p=n(r(11700)),m=r(97132),h=n(r(78384)),y=r(12037);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var g=window&&window.strapi&&window.strapi.isEE?r(6561).Z:r(83292).Z,b=(0,h.default)(s.Flex).withConfig({displayName:"ActionRow__FlexWrapper",componentId:"sc-1bqpgdl-0"})(["height:",";"],y.rowHeight),O=function(e){var t=e.arrayOfOptionsGroupedByCategory,r=e.isFormDisabled,n=e.isGrey,u=e.label,h=e.name,y=e.onChange,O=e.value,w=(0,m.useIntl)().formatMessage,E=t.reduce((function(e,t){var r=(0,i.default)(t,2),n=r[0],a=r[1],l={label:(0,p.default)(n),children:a.map((function(e){return{label:e.displayName,value:e.id}}))};return[].concat((0,o.default)(e),[l])}),[]),C=Object.values(O).map((function(e){return Object.entries(e).filter((function(e){return(0,i.default)(e,2)[1]})).map((function(e){return(0,i.default)(e,1)[0]}))})).flat();return l.default.createElement(b,{as:"li",background:n?"neutral100":"neutral0"},l.default.createElement(s.Flex,{paddingLeft:6,style:{width:180}},l.default.createElement(d.Typography,{variant:"sigma",textColor:"neutral600"},w({id:"Settings.permissions.conditions.can",defaultMessage:"Can"}),"\xa0"),l.default.createElement(d.Typography,{variant:"sigma",title:u,textColor:"primary600",ellipsis:!0},w({id:"Settings.roles.form.permissions.".concat(u.toLowerCase()),defaultMessage:u})),l.default.createElement(d.Typography,{variant:"sigma",textColor:"neutral600"},"\xa0",w({id:"Settings.permissions.conditions.when",defaultMessage:"When"}))),l.default.createElement(c.Box,{style:{maxWidth:430,width:"100%"}},l.default.createElement(f.MultiSelectNested,{id:h,customizeContent:function(e){return"".concat(e.length," currently selected")},onChange:function(e){var r=(0,i.default)(t,1),n=(0,i.default)(r[0],2)[1].reduce((function(t,r){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}((0,a.default)({},r.id,e.includes(r.id)),t)}),{});y(h,n)},value:C,options:E,disabled:r||g})))};O.propTypes={arrayOfOptionsGroupedByCategory:u.default.array.isRequired,isFormDisabled:u.default.bool.isRequired,isGrey:u.default.bool.isRequired,label:u.default.string.isRequired,name:u.default.string.isRequired,value:u.default.object.isRequired,onChange:u.default.func.isRequired};var w=O;t.default=w},83292:(e,t)=>{t.Z=void 0;t.Z=true},47173:(e,t,r)=>{var n=r(95318),a=r(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(59713)),i=n(r(63038)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var r=j(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(53547)),u=n(r(45697)),c=r(94117),s=r(64459),d=r(97833),f=r(9524),p=r(68991),m=r(44981),h=r(33483),y=n(r(66312)),v=n(r(27361)),g=n(r(7739)),b=n(r(11700)),O=r(97132),w=r(63376),E=n(r(86907)),C=n(r(13659));function j(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(j=function(e){return e?r:t})(e)}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=function(e){var t=e.actions,r=e.headerBreadCrumbs,n=e.isFormDisabled,a=e.onClosed,o=e.onToggle,u=(0,O.useIntl)().formatMessage,j=(0,w.usePermissionsDataManager)(),P=j.availableConditions,x=j.modifiedData,_=j.onChangeConditions,M=(0,l.useMemo)((function(){return Object.entries((0,g.default)(P,"category"))}),[P]),S=t.filter((function(e){var t=e.isDisplayed,r=e.hasSomeActionsSelected,n=e.hasAllActionsSelected;return t&&(r||n)})),D=(0,l.useMemo)((function(){return(0,C.default)(S,x,M)}),[S,x,M]),T=(0,l.useState)(D),L=(0,i.default)(T,2),R=L[0],A=L[1],N=function(e,t){A((0,y.default)((function(r){r[e]||(r[e]={}),r[e].default||(r[e].default={}),r[e].default=t})))};return l.default.createElement(p.ModalLayout,{labelledBy:"condition-modal-breadcrumbs",onClose:a},l.default.createElement(p.ModalHeader,null,l.default.createElement(m.Breadcrumbs,{id:"condition-modal-breadcrumbs",label:r.join(", ")},r.map((function(e){return l.default.createElement(m.Crumb,{key:e},(0,b.default)(u({id:e,defaultMessage:e})))})))),l.default.createElement(c.Box,{padding:8},l.default.createElement(f.Stack,{size:6},l.default.createElement(h.Typography,{variant:"beta",as:"h2"},u({id:"Settings.permissions.conditions.define-conditions",defaultMessage:"Define conditions"})),l.default.createElement(c.Box,null,l.default.createElement(d.Divider,null)),l.default.createElement(c.Box,null,0===S.length&&l.default.createElement(h.Typography,null,u({id:"Settings.permissions.conditions.no-actions",defaultMessage:"You first need to select actions (create, read, update, ...) before defining conditions on them."})),l.default.createElement("ul",null,S.map((function(e,t){var r=e.actionId,a=e.label,o=e.pathToConditionsObject.join("..");return l.default.createElement(E.default,{key:r,arrayOfOptionsGroupedByCategory:M,label:a,isFormDisabled:n,isGrey:t%2===0,name:o,onChange:N,value:(0,v.default)(R,o,{})})})))))),l.default.createElement(p.ModalFooter,{startActions:l.default.createElement(s.Button,{variant:"tertiary",onClick:o},u({id:"app.components.Button.cancel",defaultMessage:"Cancel"})),endActions:l.default.createElement(s.Button,{onClick:function(){var e=Object.entries(R).reduce((function(e,t){var r=(0,i.default)(t,2),n=r[0],a=r[1],o=Object.values(a).reduce((function(e,t){return k(k({},e),t)}),{});return e[n]=o,e}),{});_(e),o()}},u({id:"Settings.permissions.conditions.apply",defaultMessage:"Apply"}))}))};x.propTypes={actions:u.default.arrayOf(u.default.shape({actionId:u.default.string.isRequired,checkboxName:u.default.string,hasSomeActionsSelected:u.default.bool.isRequired,hasAllActionsSelected:u.default.bool,isDisplayed:u.default.bool.isRequired,label:u.default.string})).isRequired,headerBreadCrumbs:u.default.arrayOf(u.default.string).isRequired,isFormDisabled:u.default.bool.isRequired,onClosed:u.default.func.isRequired,onToggle:u.default.func.isRequired};var _=x;t.default=_},13659:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createConditionsForm=t.createCategoryForm=void 0;var a=n(r(319)),o=n(r(63038)),i=r(96486),l=function(e,t){return e.reduce((function(e,r){return e[r.id]=(0,i.get)(t,r.id,!1),e}),{})};t.createConditionsForm=l;var u=function(e,t){return e.reduce((function(e,r){var n=(0,o.default)(r,2),a=n[0],i=n[1],u=l(i,t);return e[a]=u,e}),{})};t.createCategoryForm=u;var c=function(e,t,r){return e.reduce((function(e,n){var o=(0,i.get)(t,[].concat((0,a.default)(n.pathToConditionsObject),["conditions"]),{}),l=u(r,o);return e[n.pathToConditionsObject.join("..")]=l,e}),{})};t.default=c},62358:(e,t,r)=>{var n=r(95318),a=r(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(63038)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var r=k(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(53547)),l=n(r(45697)),u=n(r(32080)),c=n(r(80499)),s=r(46458),d=r(94117),f=r(40264),p=n(r(27361)),m=n(r(57557)),h=r(97132),y=n(r(78384)),v=r(63376),g=n(r(30380)),b=n(r(47173)),O=n(r(7457)),w=r(12037),E=n(r(43148)),C=r(89362),j=n(r(92168)),P=n(r(73185));function k(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(k=function(e){return e?r:t})(e)}var x=window&&window.strapi&&window.strapi.isEE?r(38706).Z:r(44827).Z,_=function e(t,r){return"\n  ".concat(M," {\n    background-color: ").concat(t.colors.primary100,";\n    color: ").concat(t.colors.primary600,";\n    border-radius: ").concat(r?"2px 2px 0 0":"2px",";\n  }\n  ").concat(T," {\n    display: flex;\n  }\n  ").concat(g.default," {\n    display: block;\n  }\n  &:hover {\n   ").concat((0,P.default)(t),"\n  }\n\n  &:focus-within {\n    ").concat((function(t){var r=t.theme,n=t.isActive;return e(r,n)}),"\n  }\n  \n")},M=y.default.div.withConfig({displayName:"Collapse__Wrapper",componentId:"sc-132fji1-0"})(["flex:1;display:flex;align-items:center;height:",";background-color:",";border:1px solid transparent;"],w.rowHeight,(function(e){var t=e.isGrey,r=e.theme;return t?r.colors.neutral100:r.colors.neutral0})),S=y.default.div.withConfig({displayName:"Collapse__BoxWrapper",componentId:"sc-132fji1-1"})(["display:inline-flex;min-width:100%;","{display:none;}"," &:hover{","}"],g.default,(function(e){var t=e.isActive,r=e.theme;return t&&_(r,t)}),(function(e){var t=e.theme,r=e.isActive;return _(t,r)})),D=(0,y.default)(f.Flex).withConfig({displayName:"Collapse__Cell",componentId:"sc-132fji1-2"})(["width:",";position:relative;"],w.cellWidth),T=(0,y.default)(d.Box).withConfig({displayName:"Collapse__Chevron",componentId:"sc-132fji1-3"})(["display:none;svg{width:11px;}*{fill:",";}"],(function(e){return e.theme.colors.primary600})),L=y.default.span.withConfig({displayName:"Collapse__TinyDot",componentId:"sc-132fji1-4"})(["position:absolute;top:-6px;left:37px;width:6px;height:6px;border-radius:20px;background:",";"],(function(e){return e.theme.colors.primary600})),R=(0,y.default)(d.Box).withConfig({displayName:"Collapse__AbsoluteBox",componentId:"sc-132fji1-5"})(["position:absolute;right:9px;transform:translateY(10px);"]),A=function(e){var t=e.availableActions,r=e.isActive,n=e.isGrey,a=e.isFormDisabled,l=e.label,d=e.onClickToggle,y=e.pathToData,w=(0,i.useState)(!1),P=(0,o.default)(w,2),k=P[0],_=P[1],A=(0,h.useIntl)().formatMessage,N=(0,v.usePermissionsDataManager)(),F=N.modifiedData,I=N.onChangeParentCheckbox,q=N.onChangeSimpleCheckbox,W=function(){_((function(e){return!e}))},B=(0,p.default)(F,y.split(".."),{}),G=(0,i.useMemo)((function(){return Object.keys(B).reduce((function(e,t){return e[t]=(0,m.default)(B[t],"conditions"),e}),{})}),[B]),Z=(0,C.getCheckboxState)(G),H=Z.hasAllActionsSelected,U=Z.hasSomeActionsSelected,z=(0,i.useMemo)((function(){return(0,j.default)(t,F,y)}),[t,F,y]),V=z.some((function(e){return e.hasConditions}));return i.default.createElement(S,{isActive:r},i.default.createElement(M,{isGrey:n},i.default.createElement(E.default,{isCollapsable:!0,isFormDisabled:a,label:l,checkboxName:y,onChange:I,onClick:d,someChecked:U,value:H,isActive:r},i.default.createElement(T,{paddingLeft:2},r?i.default.createElement(c.default,null):i.default.createElement(u.default,null))),i.default.createElement(f.Flex,{style:{flex:1}},z.map((function(e){var t=e.actionId,r=e.hasConditions,n=e.hasAllActionsSelected,o=e.hasSomeActionsSelected,u=e.isDisplayed,c=e.isParentCheckbox,d=e.checkboxName,f=e.label;return u?c?i.default.createElement(D,{key:t,justifyContent:"center",alignItems:"center"},r&&i.default.createElement(L,null),i.default.createElement(s.BaseCheckbox,{disabled:a||x,name:d,"aria-label":A({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(f," ").concat(l)}),onValueChange:function(e){I({target:{name:d,value:e}})},indeterminate:o,value:n})):i.default.createElement(D,{key:t,justifyContent:"center",alignItems:"center"},r&&i.default.createElement(L,null),i.default.createElement(s.BaseCheckbox,{disabled:a||x,indeterminate:r,name:d,onValueChange:function(e){q({target:{name:d,value:e}})},value:n})):i.default.createElement(O.default,{key:t})}))),k&&i.default.createElement(b.default,{headerBreadCrumbs:[l,"app.components.LeftMenuLinkContainer.settings"],actions:z,isFormDisabled:a,onClosed:function(){_(!1)},onToggle:W})),i.default.createElement(R,null,i.default.createElement(g.default,{onClick:W,hasConditions:V})))};A.propTypes={availableActions:l.default.array.isRequired,isActive:l.default.bool.isRequired,isGrey:l.default.bool.isRequired,isFormDisabled:l.default.bool.isRequired,label:l.default.string.isRequired,onClickToggle:l.default.func.isRequired,pathToData:l.default.string.isRequired};var N=A;t.default=N},44827:(e,t)=>{t.Z=void 0;t.Z=true},92168:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(319)),o=r(96486),i=r(89362),l=function(e,t,r){return e.map((function(e){var n=e.actionId,l=e.isDisplayed,u=e.applyToProperties,c=e.label;if(!l)return{actionId:n,hasSomeActionsSelected:!1,isDisplayed:l};var s=[].concat((0,a.default)(r.split("..")),[n]),d=(0,o.isEmpty)(u)?[].concat((0,a.default)(s),["properties","enabled"]):s,f=d.join(".."),p=(0,o.get)(t,[].concat((0,a.default)(s),["conditions"]),null),m=(0,i.createArrayOfValues)(p).some((function(e){return e}));if((0,o.isEmpty)(u)){var h=(0,o.get)(t,d,!1);return{actionId:n,checkboxName:f,hasAllActionsSelected:h,hasConditions:m,hasSomeActionsSelected:h,isDisplayed:l,isParentCheckbox:!1,label:c,pathToConditionsObject:s}}var y=(0,o.get)(t,d,null),v=(0,i.getCheckboxState)(y);return{actionId:n,checkboxName:f,hasAllActionsSelected:v.hasAllActionsSelected,hasConditions:m,hasSomeActionsSelected:v.hasSomeActionsSelected,isDisplayed:l,isParentCheckbox:!0,label:c,pathToConditionsObject:s}}))};t.default=l},30841:(e,t,r)=>{var n=r(95318),a=r(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(319)),i=n(r(63038)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var r=j(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(53547)),u=n(r(45697)),c=r(97132),s=n(r(78384)),d=r(46458),f=r(40264),p=n(r(27361)),m=r(63376),h=n(r(7457)),y=r(12037),v=n(r(92395)),g=n(r(43148)),b=r(89362),O=r(91416),w=n(r(98459)),E=n(r(19090)),C=n(r(88685));function j(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(j=function(e){return e?r:t})(e)}var P=window&&window.strapi&&window.strapi.isEE?r(11720).Z:r(75312).Z,k=(0,s.default)(f.Flex).withConfig({displayName:"ActionRow__Cell",componentId:"sc-4agenc-0"})(["width:",";position:relative;"],y.cellWidth),x=(0,s.default)(f.Flex).withConfig({displayName:"ActionRow__Wrapper",componentId:"sc-4agenc-1"})(["height:",";flex:1;"," ",";"],y.rowHeight,(function(e){var t=e.isCollapsable,r=e.theme;return t&&"\n      ".concat(w.default," {\n        display: block;\n        color: ").concat(r.colors.neutral100,";\n      }\n      &:hover {\n        ").concat((0,O.activeStyle)(r),"\n      }\n  ")}),(function(e){var t=e.isActive,r=e.theme;return t&&(0,O.activeStyle)(r)})),_=function(e){var t=e.childrenForm,r=e.label,n=e.isFormDisabled,a=e.name,u=e.required,s=e.pathToData,y=e.propertyActions,O=e.propertyName,j=e.isOdd,_=(0,c.useIntl)().formatMessage,M=(0,l.useState)(null),S=(0,i.default)(M,2),D=S[0],T=S[1],L=(0,m.usePermissionsDataManager)(),R=L.modifiedData,A=L.onChangeCollectionTypeLeftActionRowCheckbox,N=L.onChangeParentCheckbox,F=L.onChangeSimpleCheckbox,I=D===a,q=(0,l.useMemo)((function(){return Array.isArray(t)?t:[]}),[t]),W=q.length>0,B=(0,l.useCallback)((function(){W&&T((function(e){return e===a?null:a}))}),[W,a]),G=(0,l.useMemo)((function(){return(0,C.default)(y,R,s,O,a)}),[y,R,s,O,a]),Z=G.hasAllActionsSelected,H=G.hasSomeActionsSelected;return l.default.createElement(l.default.Fragment,null,l.default.createElement(x,{alignItems:"center",isCollapsable:W,isActive:I,background:j?"neutral100":"neutral0"},l.default.createElement(f.Flex,null,l.default.createElement(g.default,{onChange:function(e){var t=e.target.value;A(s,O,a,t)},onClick:B,isCollapsable:W,isFormDisabled:n,label:r,someChecked:H,value:Z,isActive:I},u&&l.default.createElement(v.default,null),l.default.createElement(w.default,{$isActive:I})),l.default.createElement(f.Flex,null,y.map((function(e){var t=e.label,r=e.isActionRelatedToCurrentProperty,i=e.actionId;if(!r)return l.default.createElement(h.default,{key:t});var u=[].concat((0,o.default)(s.split("..")),[i,"properties",O,a]);if(!W){var c=(0,p.default)(R,u,!1);return l.default.createElement(k,{key:i,justifyContent:"center",alignItems:"center"},l.default.createElement(d.BaseCheckbox,{disabled:n||P,name:u.join(".."),"aria-label":_({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(a," ").concat(t)}),onValueChange:function(e){F({target:{name:u.join(".."),value:e}})},value:c}))}var f=(0,p.default)(R,u,{}),m=(0,b.getCheckboxState)(f),y=m.hasAllActionsSelected,v=m.hasSomeActionsSelected;return l.default.createElement(k,{key:t,justifyContent:"center",alignItems:"center"},l.default.createElement(d.BaseCheckbox,{disabled:n||P,name:u.join(".."),onValueChange:function(e){N({target:{name:u.join(".."),value:e}})},"aria-label":_({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(a," ").concat(t)}),value:y,indeterminate:v}))}))))),I&&l.default.createElement(E.default,{childrenForm:q,isFormDisabled:n,parentName:a,pathToDataFromActionRow:s,propertyName:O,propertyActions:y,recursiveLevel:0}))};_.defaultProps={childrenForm:[],required:!1},_.propTypes={childrenForm:u.default.array,label:u.default.string.isRequired,isFormDisabled:u.default.bool.isRequired,name:u.default.string.isRequired,pathToData:u.default.string.isRequired,propertyActions:u.default.array.isRequired,propertyName:u.default.string.isRequired,required:u.default.bool,isOdd:u.default.bool.isRequired};var M=(0,l.memo)(_);t.default=M},75312:(e,t)=>{t.Z=void 0;t.Z=true},88685:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getActionIdsFromPropertyActions=t.default=void 0;var a=n(r(319)),o=r(96486),i=r(89362),l=function(e){return e.reduce((function(e,t){return t.isActionRelatedToCurrentProperty&&e.push(t.actionId),e}),[])};t.getActionIdsFromPropertyActions=l;var u=function(e,t,r,n,u){var c=l(e).reduce((function(e,i){var l=[].concat((0,a.default)(r.split("..")),[i,"properties",n,u]),c=(0,o.get)(t,l,!1);return e[i]=c,e}),{});return(0,i.getCheckboxState)(c)};t.default=u},98459:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(78384)),o=n(r(40413)),i=(0,a.default)(o.default).withConfig({displayName:"CarretIcon",componentId:"sc-1sz33o8-0"})(["display:none;width:","rem;transform:rotate(","deg);margin-left:",";"],.625,(function(e){return e.$isActive?"180":"0"}),(function(e){return e.theme.spaces[2]}));t.default=i},62153:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(53547)),o=n(r(45697)),i=r(97132),l=n(r(78384)),u=r(40264),c=r(33483),s=r(12037),d=(0,l.default)(u.Flex).withConfig({displayName:"Header__HeaderLabel",componentId:"sc-1x5jpk6-0"})(["width:",";flex-shrink:0;"],s.cellWidth),f=(0,l.default)(u.Flex).withConfig({displayName:"Header__PropertyLabelWrapper",componentId:"sc-1x5jpk6-1"})(["width:",";height:",";flex-shrink:0;"],s.firstRowWidth,s.rowHeight),p=function(e){var t=e.headers,r=e.label,n=(0,i.useIntl)().formatMessage,o=n({id:"Settings.roles.form.permission.property-label",defaultMessage:"{label} permissions"},{label:r});return a.default.createElement(u.Flex,null,a.default.createElement(f,{alignItems:"center",paddingLeft:6},a.default.createElement(c.Typography,{variant:"sigma",textColor:"neutral500"},o)),t.map((function(e){return e.isActionRelatedToCurrentProperty?a.default.createElement(d,{justifyContent:"center",key:e.label},a.default.createElement(c.Typography,{variant:"sigma",textColor:"neutral500"},n({id:"Settings.roles.form.permissions.".concat(e.label.toLowerCase()),defaultMessage:e.label}))):a.default.createElement(d,{key:e.label})})))};p.propTypes={headers:o.default.arrayOf(o.default.shape({label:o.default.string.isRequired,isActionRelatedToCurrentProperty:o.default.bool.isRequired})).isRequired,label:o.default.string.isRequired};var m=p;t.default=m},19090:(e,t,r)=>{var n=r(95318),a=r(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(319)),i=n(r(67154)),l=n(r(63038)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var r=x(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(53547)),c=n(r(45697)),s=n(r(27361)),d=n(r(11700)),f=r(97132),p=n(r(78384)),m=r(46458),h=r(94117),y=r(40264),v=r(33483),g=r(63376),b=n(r(21950)),O=n(r(55946)),w=n(r(7457)),E=r(12037),C=n(r(92395)),j=r(89362),P=r(91416),k=n(r(98459));function x(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(x=function(e){return e?r:t})(e)}var _=window&&window.strapi&&window.strapi.isEE?r(48535).Z:r(24699).Z,M=(0,p.default)(y.Flex).withConfig({displayName:"SubActionRow__Cell",componentId:"sc-7y8yzq-0"})(["width:",";position:relative;"],E.cellWidth),S=(0,p.default)(y.Flex).withConfig({displayName:"SubActionRow__RowWrapper",componentId:"sc-7y8yzq-1"})(["height:",";"],E.rowHeight),D=(0,p.default)(h.Box).withConfig({displayName:"SubActionRow__Wrapper",componentId:"sc-7y8yzq-2"})(["padding-left:","rem;"],31/16),T=(0,p.default)(h.Box).withConfig({displayName:"SubActionRow__LeftBorderTimeline",componentId:"sc-7y8yzq-3"})(["border-left:",";"],(function(e){var t=e.isVisible,r=e.theme;return t?"4px solid ".concat(r.colors.primary200):"4px solid transparent"})),L=(0,p.default)(y.Flex).withConfig({displayName:"SubActionRow__RowStyle",componentId:"sc-7y8yzq-4"})(["padding-left:",";width:","px;"," ",";"],(function(e){return e.theme.spaces[4]}),(function(e){return 145-36*e.level}),(function(e){var t=e.isCollapsable,r=e.theme;return t&&"\n      ".concat(k.default," {\n        display: block;\n        color: ").concat(r.colors.neutral100,";\n      }\n      &:hover {\n        ").concat((0,P.activeStyle)(r),"\n      }\n  ")}),(function(e){var t=e.isActive,r=e.theme;return t&&(0,P.activeStyle)(r)})),R=p.default.div.withConfig({displayName:"SubActionRow__TopTimeline",componentId:"sc-7y8yzq-5"})(["padding-top:",";margin-top:",";width:","rem;background-color:",";border-top-left-radius:2px;border-top-right-radius:2px;"],(function(e){return e.theme.spaces[2]}),(function(e){return e.theme.spaces[2]}),.25,(function(e){return e.theme.colors.primary200})),A=function e(t){var r=t.childrenForm,n=t.isFormDisabled,a=t.recursiveLevel,c=t.pathToDataFromActionRow,p=t.propertyActions,E=t.parentName,P=t.propertyName,x=(0,f.useIntl)().formatMessage,A=(0,g.usePermissionsDataManager)(),N=A.modifiedData,F=A.onChangeParentCheckbox,I=A.onChangeSimpleCheckbox,q=(0,u.useState)(null),W=(0,l.default)(q,2),B=W[0],G=W[1],Z=function(e){G((function(t){return t===e?null:e}))},H=(0,u.useMemo)((function(){return B?r.find((function(e){return e.value===B})):null}),[B,r]);return u.default.createElement(D,null,u.default.createElement(R,null),r.map((function(t,l){var f=t.label,g=t.value,D=t.required,R=t.children,A=l+1<r.length,q=Array.isArray(R),W=B===g;return u.default.createElement(T,{key:g,isVisible:A},u.default.createElement(S,null,u.default.createElement(O.default,{color:"primary200"}),u.default.createElement(y.Flex,{style:{flex:1}},u.default.createElement(L,{level:a,isActive:W,isCollapsable:q},u.default.createElement(b.default,(0,i.default)({alignItems:"center",isCollapsable:q},q&&{onClick:function(){return Z(g)},"aria-expanded":W,onKeyDown:function(e){var t=e.key;return("Enter"===t||" "===t)&&Z(g)},tabIndex:0,role:"button"},{title:f}),u.default.createElement(v.Typography,{ellipsis:!0},(0,d.default)(f)),D&&u.default.createElement(C.default,null),u.default.createElement(k.default,{$isActive:W}))),u.default.createElement(y.Flex,{style:{flex:1}},p.map((function(e){var t=e.actionId,r=e.label;if(!e.isActionRelatedToCurrentProperty)return u.default.createElement(w.default,{key:t});var a=[].concat((0,o.default)(c.split("..")),[t,"properties",P],(0,o.default)(E.split("..")),[g]),i=(0,s.default)(N,a,!1);if(!R)return u.default.createElement(M,{key:r,justifyContent:"center",alignItems:"center"},u.default.createElement(m.BaseCheckbox,{disabled:n||_,name:a.join(".."),"aria-label":x({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(E," ").concat(f," ").concat(r)}),onValueChange:function(e){I({target:{name:a.join(".."),value:e}})},value:i}));var l=(0,j.getCheckboxState)(i),d=l.hasAllActionsSelected,p=l.hasSomeActionsSelected;return u.default.createElement(M,{key:r,justifyContent:"center",alignItems:"center"},u.default.createElement(m.BaseCheckbox,{key:r,disabled:n||_,name:a.join(".."),"aria-label":x({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(E," ").concat(f," ").concat(r)}),onValueChange:function(e){F({target:{name:a.join(".."),value:e}})},value:d,indeterminate:p}))}))))),H&&W&&u.default.createElement(h.Box,{paddingBottom:2},u.default.createElement(e,{isFormDisabled:n,parentName:"".concat(E,"..").concat(g),pathToDataFromActionRow:c,propertyActions:p,propertyName:P,recursiveLevel:a+1,childrenForm:H.children})))})))};A.propTypes={childrenForm:c.default.array.isRequired,isFormDisabled:c.default.bool.isRequired,parentName:c.default.string.isRequired,pathToDataFromActionRow:c.default.string.isRequired,propertyActions:c.default.array.isRequired,propertyName:c.default.string.isRequired,recursiveLevel:c.default.number.isRequired};var N=(0,u.memo)(A);t.default=N},24699:(e,t)=>{t.Z=void 0;t.Z=true},2417:(e,t,r)=>{var n=r(95318),a=r(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(53547)),i=n(r(45697)),l=n(r(78384)),u=r(94117),c=n(r(20538)),s=n(r(62153)),d=n(r(30841));function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var p=l.default.div.withConfig({displayName:"CollapsePropertyMatrix__Wrapper",componentId:"sc-19phz29-0"})(["display:inline-flex;flex-direction:column;min-width:0;"]),m=function(e){var t=e.availableActions,r=e.childrenForm,n=e.isFormDisabled,a=e.label,i=e.pathToData,l=e.propertyName,f=(0,o.useMemo)((function(){return(0,c.default)(t,l)}),[t,l]);return o.default.createElement(p,null,o.default.createElement(s.default,{label:a,headers:f}),o.default.createElement(u.Box,null,r.map((function(e,t){var r=e.children,a=e.label,u=e.value,c=e.required;return o.default.createElement(d.default,{childrenForm:r,key:u,label:a,isFormDisabled:n,name:u,required:c,propertyActions:f,pathToData:i,propertyName:l,isOdd:t%2===0})}))))};m.propTypes={childrenForm:i.default.array.isRequired,availableActions:i.default.array.isRequired,isFormDisabled:i.default.bool.isRequired,label:i.default.string.isRequired,pathToData:i.default.string.isRequired,propertyName:i.default.string.isRequired};var h=m;t.default=h},20538:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){return e.map((function(e){var r=Array.isArray(e.applyToProperties)&&-1!==e.applyToProperties.indexOf(t)&&e.isDisplayed;return{label:e.label,actionId:e.actionId,isActionRelatedToCurrentProperty:r}}))};t.default=r},68329:(e,t,r)=>{var n=r(95318),a=r(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(45697)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(53547)),l=n(r(78384)),u=n(r(62358)),c=n(r(2417)),s=r(91416);function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}var f=l.default.div.withConfig({displayName:"ContentTypeCollapse__Wrapper",componentId:"sc-1ldk4pa-0"})(["flex-direction:column;display:inline-flex;min-width:100%;",""],(function(e){var t=e.theme;return e.isActive&&"border: 1px solid ".concat(t.colors.primary600,";")})),p=function(e){var t=e.allActions,r=e.contentTypeName,n=e.label,a=e.index,o=e.isActive,l=e.isFormDisabled,d=e.onClickToggleCollapse,p=e.pathToData,m=e.properties,h=(0,i.useCallback)((function(){d(r)}),[r,d]),y=(0,i.useMemo)((function(){return(0,s.getAvailableActions)(t,r)}),[t,r]);return i.default.createElement(f,{isActive:o},i.default.createElement(u.default,{availableActions:y,isActive:o,isGrey:a%2===0,isFormDisabled:l,label:n,onClickToggle:h,pathToData:p}),o&&m.map((function(e){var t=e.label,r=e.value,n=e.children;return i.default.createElement(c.default,{availableActions:y,childrenForm:n,isFormDisabled:l,label:t,pathToData:p,propertyName:r,key:r})})))};p.propTypes={allActions:o.default.array.isRequired,contentTypeName:o.default.string.isRequired,index:o.default.number.isRequired,isActive:o.default.bool.isRequired,isFormDisabled:o.default.bool.isRequired,label:o.default.string.isRequired,onClickToggleCollapse:o.default.func.isRequired,pathToData:o.default.string.isRequired,properties:o.default.array.isRequired};var m=p;t.default=m},73185:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(33483),o=n(r(98459)),i=function(e){return"\n  ".concat(a.Typography," {\n    color: ").concat(e.colors.primary600,";\n    font-weight: ").concat(e.fontWeights.bold,"\n  }\n  ").concat(o.default," {\n    display: block;\n    path {\n      fill: ").concat(e.colors.primary600,"\n    };\n  }\n")};t.default=i},86982:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(59713));function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=function(e,t){return e.map((function(e){var r=Array.isArray(e.subjects)&&-1!==e.subjects.indexOf(t);return i(i({},e),{},{isDisplayed:r})}))};t.default=l},91416:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"activeStyle",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"getAvailableActions",{enumerable:!0,get:function(){return o.default}});var a=n(r(73185)),o=n(r(86982))},71088:(e,t,r)=>{var n=r(95318),a=r(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(63038)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(53547)),l=n(r(45697)),u=n(r(68329));function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var s=function(e){var t=e.actions,r=e.isFormDisabled,n=e.pathToData,a=e.subjects,l=(0,i.useState)(null),c=(0,o.default)(l,2),s=c[0],d=c[1],f=function(e){d(s===e?null:e)};return a.map((function(e,a){var o=e.uid,l=e.label,c=e.properties;return i.default.createElement(u.default,{allActions:t,key:o,contentTypeName:o,label:l,isActive:s===o,isFormDisabled:r,index:a,onClickToggleCollapse:f,pathToData:"".concat(n,"..").concat(o),properties:c})}))};s.defaultProps={actions:[],subjects:[]},s.propTypes={actions:l.default.array.isRequired,isFormDisabled:l.default.bool.isRequired,pathToData:l.default.string.isRequired,subjects:l.default.arrayOf(l.default.shape({uid:l.default.string.isRequired,label:l.default.string.isRequired,properties:l.default.array.isRequired}))};var d=(0,i.memo)(s);t.default=d},65743:(e,t,r)=>{var n=r(95318),a=r(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(319)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(53547)),l=n(r(45697)),u=r(94117),c=n(r(78384)),s=n(r(89734)),d=n(r(71088)),f=n(r(96630));function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}var m=(0,c.default)(u.Box).withConfig({displayName:"ContentTypes__StyledBox",componentId:"sc-1hdkmsf-0"})(["overflow-x:auto;"]),h=function(e){var t=e.isFormDisabled,r=e.kind,n=e.layout,a=n.actions,l=n.subjects,u=(0,s.default)((0,o.default)(l),"label");return i.default.createElement(m,{background:"neutral0"},i.default.createElement(f.default,{actions:a,kind:r,isFormDisabled:t}),i.default.createElement(d.default,{actions:a,isFormDisabled:t,pathToData:r,subjects:u}))};h.propTypes={isFormDisabled:l.default.bool.isRequired,kind:l.default.string.isRequired,layout:l.default.shape({actions:l.default.array,subjects:l.default.arrayOf(l.default.shape({uid:l.default.string.isRequired,label:l.default.string.isRequired,properties:l.default.array.isRequired}))}).isRequired};var y=(0,i.memo)(h);t.default=y},55946:(e,t,r)=>{var n=r(95318),a=r(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(67154)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(53547)),l=n(r(45697)),u=n(r(78384)),c=r(94117);function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var d=(0,u.default)(c.Box).withConfig({displayName:"Curve__StyledBox",componentId:"sc-18jpkp6-0"})(["transform:translate(-4px,-12px);&:before{content:'';width:","rem;height:","rem;background:",";display:block;}"],.25,.75,(function(e){return e.theme.colors.primary200})),f=u.default.svg.withConfig({displayName:"Curve__Svg",componentId:"sc-18jpkp6-1"})(["position:relative;flex-shrink:0;transform:translate(-0.5px,-1px);*{fill:",";}"],(function(e){var t=e.theme,r=e.color;return t.colors[r]})),p=function(e){return i.default.createElement(d,null,i.default.createElement(f,(0,o.default)({width:"20",height:"23",viewBox:"0 0 20 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.02477 14.7513C8.65865 17.0594 11.6046 18.6059 17.5596 18.8856C18.6836 18.9384 19.5976 19.8435 19.5976 20.9688V20.9688C19.5976 22.0941 18.6841 23.0125 17.5599 22.9643C10.9409 22.6805 6.454 20.9387 3.75496 17.1258C0.937988 13.1464 0.486328 7.39309 0.486328 0.593262H4.50974C4.50974 7.54693 5.06394 11.9813 7.02477 14.7513Z",fill:"#D9D8FF"})))};p.defaultProps={fill:"primary200"},p.propTypes={fill:l.default.string};var m=(0,i.memo)(p);t.default=m},96630:(e,t,r)=>{var n=r(95318),a=r(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(53547)),i=n(r(45697)),l=r(46458),u=r(94117),c=r(9524),s=r(33483),d=n(r(78384)),f=n(r(27361)),p=r(97132),m=r(63376),h=r(12037),y=r(38178);function v(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}var g=window&&window.strapi&&window.strapi.isEE?r(70398).Z:r(7434).Z,b=(0,d.default)(c.Stack).withConfig({displayName:"GlobalActions__CenteredStack",componentId:"sc-1vxwsjr-0"})(["align-items:center;justify-content:center;width:",";flex-shrink:0;"],h.cellWidth),O=function(e){var t=e.actions,r=e.isFormDisabled,n=e.kind,a=(0,p.useIntl)().formatMessage,i=(0,m.usePermissionsDataManager)(),d=i.modifiedData,v=i.onChangeCollectionTypeGlobalActionCheckbox,O=(0,o.useMemo)((function(){return(0,y.findDisplayedActions)(t)}),[t]),w=(0,o.useMemo)((function(){return(0,y.getCheckboxesState)(O,d[n])}),[d,O,n]);return o.default.createElement(u.Box,{paddingBottom:4,paddingTop:6,style:{paddingLeft:h.firstRowWidth}},o.default.createElement(c.Stack,{horizontal:!0,size:0},O.map((function(e){var t=e.label,i=e.actionId;return o.default.createElement(b,{key:i,size:3},o.default.createElement(s.Typography,{variant:"sigma",textColor:"neutral500"},a({id:"Settings.roles.form.permissions.".concat(t.toLowerCase()),defaultMessage:t})),o.default.createElement(l.BaseCheckbox,{disabled:r||g,onValueChange:function(e){v(n,i,e)},name:i,"aria-label":a({id:"Settings.permissions.select-all-by-permission",defaultMessage:"Select all {label} permissions"},{label:a({id:"Settings.roles.form.permissions.".concat(t.toLowerCase()),defaultMessage:t})}),value:(0,f.default)(w,[i,"hasAllActionsSelected"],!1),indeterminate:(0,f.default)(w,[i,"hasSomeActionsSelected"],!1)}))}))))};O.defaultProps={actions:[]},O.propTypes={actions:i.default.arrayOf(i.default.shape({label:i.default.string.isRequired,actionId:i.default.string.isRequired,subjects:i.default.array.isRequired})),isFormDisabled:i.default.bool.isRequired,kind:i.default.string.isRequired};var w=(0,o.memo)(O);t.default=w},7434:(e,t)=>{t.Z=void 0;t.Z=true},34169:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e.filter((function(e){var t=e.subjects;return t&&t.length}))};t.default=r},25554:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getRelatedActionIdData=t.getActionsIds=t.default=void 0;var a=n(r(59713)),o=r(96486),i=r(89362);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=function(e){return e.map((function(e){return e.actionId}))};t.getActionsIds=c;var s=function(e,t){return e.reduce((function(e,r){return Object.keys(t).forEach((function(n){var l=(0,o.get)(t,[n,r],{}),c=(0,a.default)({},n,(0,i.removeConditionKeyFromData)(l));e[r]?e[r]=u(u({},e[r]),c):e[r]=c})),e}),{})};t.getRelatedActionIdData=s;var d=function(e,t){var r=c(e),n=s(r,t);return Object.keys(n).reduce((function(e,t){return e[t]=(0,i.getCheckboxState)(n[t]),e}),{})};t.default=d},38178:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"findDisplayedActions",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"getCheckboxesState",{enumerable:!0,get:function(){return o.default}});var a=n(r(34169)),o=n(r(25554))},7457:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(78384)),o=r(12037),i=a.default.div.withConfig({displayName:"HiddenAction",componentId:"sc-uuwuy1-0"})(["width:",";"],o.cellWidth);t.default=i},74716:(e,t,r)=>{var n=r(95318),a=r(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(59713)),i=n(r(63038)),l=E(r(53547)),u=n(r(45697)),c=r(79835),s=r(1738),d=n(r(18721)),f=n(r(41609)),p=r(97132),m=n(r(65743)),h=n(r(15102)),y=n(r(3030)),v=n(r(65600)),g=E(r(96096)),b=n(r(47959)),O=n(r(77032));function w(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(w=function(e){return e?r:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var r=w(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P=(0,l.forwardRef)((function(e,t){var r=e.layout,n=e.isFormDisabled,a=e.permissions,o=(0,l.useReducer)(g.default,g.initialState,(function(){return(0,v.default)(r,a)})),u=(0,i.default)(o,2),w=u[0],E=w.initialData,C=w.layouts,P=w.modifiedData,k=u[1],x=(0,p.useIntl)().formatMessage;(0,l.useImperativeHandle)(t,(function(){return{getPermissions:function(){var e,t=(0,c.difference)(E.collectionTypes,P.collectionTypes),r=(0,c.difference)(E.singleTypes,P.singleTypes),n=j(j({},t),r);return e=!(0,f.default)(n)&&Object.values(n).some((function(e){return Object.values(e).some((function(e){return(0,d.default)(e,"conditions")}))})),{permissionsToSend:(0,b.default)(P),didUpdateConditions:e}},resetForm:function(){k({type:"RESET_FORM"})},setFormAfterSubmit:function(){k({type:"SET_FORM_AFTER_SUBMIT"})}}}));var _=(0,l.useCallback)((function(e){var t=e.target,r=t.name,n=t.value;k({type:"ON_CHANGE_SIMPLE_CHECKBOX",keys:r,value:n})}),[]),M=(0,l.useCallback)((function(e){var t=e.target,r=t.name,n=t.value;k({type:"ON_CHANGE_TOGGLE_PARENT_CHECKBOX",keys:r,value:n})}),[]);return l.default.createElement(h.default,{value:{availableConditions:r.conditions,modifiedData:P,onChangeConditions:function(e){k({type:"ON_CHANGE_CONDITIONS",conditions:e})},onChangeSimpleCheckbox:_,onChangeParentCheckbox:M,onChangeCollectionTypeLeftActionRowCheckbox:function(e,t,r,n){k({type:"ON_CHANGE_COLLECTION_TYPE_ROW_LEFT_CHECKBOX",pathToCollectionType:e,propertyName:t,rowName:r,value:n})},onChangeCollectionTypeGlobalActionCheckbox:function(e,t,r){k({type:"ON_CHANGE_COLLECTION_TYPE_GLOBAL_ACTION_CHECKBOX",collectionTypeKind:e,actionId:t,value:r})}}},l.default.createElement(s.TabGroup,{id:"tabs",label:x({id:"Settings.permissions.users.tabs.label",defaultMessage:"Tabs Permissions"})},l.default.createElement(s.Tabs,null,O.default.map((function(e){return l.default.createElement(s.Tab,{key:e.id},x({id:e.labelId,defaultMessage:e.defaultMessage}))}))),l.default.createElement(s.TabPanels,{style:{position:"relative"}},l.default.createElement(s.TabPanel,null,l.default.createElement(m.default,{layout:C.collectionTypes,kind:"collectionTypes",isFormDisabled:n})),l.default.createElement(s.TabPanel,null,l.default.createElement(m.default,{layout:C.singleTypes,kind:"singleTypes",isFormDisabled:n})),l.default.createElement(s.TabPanel,null,l.default.createElement(y.default,{layout:C.plugins,kind:"plugins",isFormDisabled:n})),l.default.createElement(s.TabPanel,null,l.default.createElement(y.default,{layout:C.settings,kind:"settings",isFormDisabled:n})))))}));P.defaultProps={permissions:[],layout:{conditions:[],sections:{collectionTypes:{},singleTypes:{actions:[]},settings:[],plugins:[]}}},P.propTypes={layout:u.default.object,isFormDisabled:u.default.bool.isRequired,permissions:u.default.array};var k=(0,l.memo)(P);t.default=k},65600:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(83606)),o=n(r(91872)),i=n(r(86203)),l=function(e,t){var r=e.conditions,n=e.sections,l=n.collectionTypes,u=n.singleTypes,c=n.plugins,s=n.settings,d={collectionTypes:l,singleTypes:u,plugins:(0,i.default)(c,"plugin"),settings:(0,i.default)(s,"category")},f={collectionTypes:(0,a.default)(l,l.actions||[],r,t),singleTypes:(0,a.default)(u,u.actions||[],r,t),plugins:(0,o.default)(d.plugins,r,t),settings:(0,o.default)(d.settings,r,t)};return{initialData:f,modifiedData:f,layouts:d}};t.default=l},96096:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.default=void 0;var a=n(r(63038)),o=n(r(319)),i=n(r(59713)),l=n(r(66312)),u=r(96486),c=n(r(88879)),s=n(r(45504));function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.initialState={initialData:{},modifiedData:{},layouts:{}};var p=function(e,t){return(0,l.default)(e,(function(r){switch(t.type){case"ON_CHANGE_COLLECTION_TYPE_GLOBAL_ACTION_CHECKBOX":var n=t.collectionTypeKind,i=t.actionId,l=t.value,d=["modifiedData",n];Object.keys((0,u.get)(e,d)).forEach((function(t){var n=(0,u.get)(e,[].concat(d,[t,i]),void 0);if(n){var a=(0,s.default)(n,l);if(!l&&a.conditions){var o=(0,s.default)(a.conditions,!1);a=f(f({},a),{},{conditions:o})}(0,u.set)(r,[].concat(d,[t,i]),a)}}));break;case"ON_CHANGE_COLLECTION_TYPE_ROW_LEFT_CHECKBOX":var p=t.pathToCollectionType,m=t.propertyName,h=t.rowName,y=t.value,v=(0,u.cloneDeep)(e.modifiedData),g=p.split(".."),b=(0,u.get)(v,g,{});Object.keys(b).forEach((function(e){if((0,u.has)(b[e],"properties.".concat(m))){var t=(0,u.get)(b,[e,"properties",m,h]),r=[].concat((0,o.default)(g),[e,"properties",m,h]);if((0,u.isObject)(t)){var n=(0,s.default)(t,y);(0,u.set)(v,r,n)}else(0,u.set)(v,r,y)}})),y||(v=(0,c.default)(v)),(0,u.set)(r,"modifiedData",v);break;case"ON_CHANGE_CONDITIONS":Object.entries(t.conditions).forEach((function(e){var t=(0,a.default)(e,2),n=t[0],i=t[1];(0,u.set)(r,["modifiedData"].concat((0,o.default)(n.split("..")),["conditions"]),i)}));break;case"ON_CHANGE_SIMPLE_CHECKBOX":var O=(0,u.cloneDeep)(e.modifiedData);(0,u.set)(O,(0,o.default)(t.keys.split("..")),t.value),t.value||(O=(0,c.default)(O)),(0,u.set)(r,"modifiedData",O);break;case"ON_CHANGE_TOGGLE_PARENT_CHECKBOX":var w=t.keys,E=t.value,C=(0,o.default)(w.split("..")),j=(0,u.cloneDeep)(e.modifiedData),P=(0,u.get)(j,C,{}),k=(0,s.default)(P,E);(0,u.set)(j,C,k),E||(j=(0,c.default)(j)),(0,u.set)(r,["modifiedData"],j);break;case"RESET_FORM":r.modifiedData=e.initialData;break;case"SET_FORM_AFTER_SUBMIT":r.initialData=e.modifiedData;break;default:return r}}))};t.default=p},12037:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.rowHeight=t.firstRowWidth=t.cellWidth=void 0;var r="".concat(7.5,"rem");t.cellWidth=r;var n="".concat(12.5,"rem");t.firstRowWidth=n;var a="".concat(53/16,"rem");t.rowHeight=a},83606:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.findLayouts=t.default=t.createDefaultPropertyForms=t.createDefaultPropertiesForm=t.createDefaultConditionsForm=void 0;var a=n(r(59713)),o=r(96486),i=n(r(19010));function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.reduce((function(e,r){return e[r.id]=-1!==t.indexOf(r.id),e}),{})};t.createDefaultConditionsForm=c;var s=function e(t,r){var n=t.children,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return n.reduce((function(t,n){if(n.children)return u(u({},t),{},(0,a.default)({},n.value,e(n,r,"".concat(o).concat(n.value,"."))));var i=-1!==r.indexOf("".concat(o).concat(n.value));return t[n.value]=i,t}),{})};t.createDefaultPropertyForms=s;var d=function(e,t,r){return e.reduce((function(e,n){var a=t.properties.find((function(e){return e.value===n}));if(a){var i=(0,o.get)(r,["properties",a.value],[]),l=s(a,i);e.properties[n]=l}return e}),{properties:{}})};t.createDefaultPropertiesForm=d;var f=function(e,t){return t.reduce((function(t,r){var n=e.find((function(e){return e.uid===r}))||null;return n&&(t[r]=n),t}),{})};t.findLayouts=f;var p=function(e,t,r){var n=e.subjects,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return t.reduce((function(e,t){var l=t.subjects,s=f(n,l);if((0,o.isEmpty)(s))return e;var p=Object.keys(s).reduce((function(e,n){var l=t.actionId,f=t.applyToProperties,p=s[n].properties.map((function(e){return e.value})).every((function(e){return-1===(f||[]).indexOf(e)})),m=(0,i.default)(a,l,n),h=c(r,(0,o.get)(m,"conditions",[]));if((0,o.isEmpty)(f)||p)return(0,o.set)(e,[n,l],{properties:{enabled:void 0!==m},conditions:h}),e;var y=d(f,s[n],m);return(0,o.set)(e,[n,l],u(u({},y),{},{conditions:h})),e}),{});return(0,o.merge)(e,p)}),{})};t.default=p},91872:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createSubCategoryForm=t.createChildrenDefaultForm=void 0;var a=r(96486),o=r(83606),i=n(r(19010)),l=function(e,t,r){return e.reduce((function(e,n){var l=(0,i.default)(r,n.action,null);return e[n.action]={properties:{enabled:void 0!==l},conditions:(0,o.createDefaultConditionsForm)(t,(0,a.get)(l,"conditions",[]))},e}),{})};t.createSubCategoryForm=l;var u=function(e,t,r){return e.reduce((function(e,n){return e[n.subCategoryId]=l(n.actions,t,r),e}),{})};t.createChildrenDefaultForm=u;var c=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.reduce((function(e,n){var a=n.categoryId,o=n.childrenForm,i=u(o,t,r);return e[a]=i,e}),{})};t.default=c},19010:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t,r){return e.find((function(e){return e.action===t&&e.subject===r}))};t.default=r},9346:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createPropertyArray=t.createPermissionWithProperties=void 0;var a=n(r(319)),o=n(r(63038)),i=r(96486),l=r(89362),u=r(49896),c=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.entries(t).reduce((function(t,n){var l=(0,o.default)(n,2),u=l[0],c=l[1];return(0,i.isObject)(c)?[].concat((0,a.default)(t),(0,a.default)(e(c,"".concat(r).concat(u,".")))):(c&&!(0,i.isObject)(c)&&t.push("".concat(r).concat(u)),t)}),[])};t.createPropertyArray=c;var s=function(e,t,r){var n=r.conditions,a=r.properties;return Object.entries(a).reduce((function(e,t){var r=(0,o.default)(t,2),n=r[0],a=r[1];return e.properties[n]=c(a),e}),{action:e,subject:t,conditions:(0,u.createConditionsArray)(n),properties:{}})};t.createPermissionWithProperties=s;var d=function(e,t){var r=Object.entries(t).reduce((function(t,r){var n=(0,o.default)(r,2),c=n[0],d=n[1];if(!(0,l.createArrayOfValues)(d).some((function(e){return e})))return t;if(!(0,i.has)(d,"properties.enabled")){var f=s(c,e,d);return[].concat((0,a.default)(t),[f])}if(!d.properties.enabled)return t;var p=function(e,t,r){var n=r.conditions;return{action:e,subject:t,properties:{},conditions:(0,u.createConditionsArray)(n)}}(c,e,d);return t.push(p),t}),[]);return r},f=function(e){return Object.entries(e).reduce((function(e,t){var r=(0,o.default)(t,2),n=r[0],i=r[1],l=d(n,i);return[].concat((0,a.default)(e),(0,a.default)(l))}),[])};t.default=f},86203:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(96486),a=function(e){return e.split(" ").join("-")},o=function(e,t){return(0,n.chain)(e).groupBy(t).map((function(e,t){return{category:t,categoryId:a(t),childrenForm:(0,n.chain)(e).groupBy("subCategory").map((function(e,t){return{subCategoryName:t,subCategoryId:a(t),actions:e}})).value()}})).value()};t.default=o},47959:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(319)),o=n(r(9346)),i=n(r(49896)),l=function(e){var t=(0,i.default)(e.plugins),r=(0,i.default)(e.settings),n=(0,o.default)(e.collectionTypes),l=(0,o.default)(e.singleTypes);return[].concat((0,a.default)(t),(0,a.default)(r),(0,a.default)(n),(0,a.default)(l))};t.default=l},49896:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createPermissionsArrayFromCategory=t.createPermission=t.createConditionsArray=void 0;var a=n(r(319)),o=n(r(63038)),i=function(e){return Object.entries(e).filter((function(e){return(0,o.default)(e,2)[1]})).map((function(e){return(0,o.default)(e,1)[0]}))};t.createConditionsArray=i;var l=function(e){var t=(0,o.default)(e,2),r=t[0],n=t[1].conditions;return{action:r,subject:null,conditions:i(n),properties:{}}};t.createPermission=l;var u=function(e){return Object.values(e).reduce((function(e,t){var r=Object.entries(t).reduce((function(e,t){if(!(0,o.default)(t,2)[1].properties.enabled)return e;var r=l(t);return e.push(r),e}),[]);return[].concat((0,a.default)(e),(0,a.default)(r))}),[])};t.createPermissionsArrayFromCategory=u;var c=function(e){return Object.values(e).reduce((function(e,t){var r=u(t);return[].concat((0,a.default)(e),(0,a.default)(r))}),[])};t.default=c},77032:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=[{labelId:"app.components.LeftMenuLinkContainer.collectionTypes",defaultMessage:"Collection Types",id:"collectionTypes"},{labelId:"app.components.LeftMenuLinkContainer.singleTypes",id:"singleTypes",defaultMessage:"Single Types"},{labelId:"app.components.LeftMenuLinkContainer.plugins",defaultMessage:"Plugins",id:"plugins"},{labelId:"app.components.LeftMenuLinkContainer.settings",defaultMessage:"Settings",id:"settings"}];t.default=r},88879:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(59713)),o=r(96486),i=r(89362);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=function e(t){return Object.keys(t).reduce((function(r,n){var l=t[n];if((0,o.isObject)(l)&&!(0,o.has)(l,"conditions"))return u(u({},r),{},(0,a.default)({},n,e(l)));if((0,o.isObject)(l)&&(0,o.has)(l,"conditions")&&!(0,i.createArrayOfValues)((0,o.omit)(l,"conditions")).some((function(e){return e}))){var c=Object.keys(l.conditions).reduce((function(e,t){return e[t]=!1,e}),{});return u(u({},r),{},(0,a.default)({},n,u(u({},l),{},{conditions:c})))}return r[n]=l,r}),{})};t.default=c},45504:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(59713)),o=r(96486);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=function e(t,r){return Object.keys(t).reduce((function(n,i){var u=t[i];return"conditions"===i?(n[i]=u,n):(0,o.isObject)(u)?l(l({},n),{},(0,a.default)({},i,e(u,r))):(n[i]=r,n)}),{})};t.default=u},15102:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(53547)),o=n(r(45697)),i=r(66592),l=function(e){var t=e.children,r=e.value;return a.default.createElement(i.PermissionsDataManagerContext.Provider,{value:r},t)};l.propTypes={children:o.default.node.isRequired,value:o.default.exact({availableConditions:o.default.array.isRequired,modifiedData:o.default.object.isRequired,onChangeCollectionTypeLeftActionRowCheckbox:o.default.func.isRequired,onChangeConditions:o.default.func.isRequired,onChangeSimpleCheckbox:o.default.func.isRequired,onChangeParentCheckbox:o.default.func.isRequired,onChangeCollectionTypeGlobalActionCheckbox:o.default.func.isRequired}).isRequired};var u=l;t.default=u},90240:(e,t,r)=>{var n=r(95318),a=r(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(319)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(53547)),l=n(r(45697)),u=r(47949),c=r(94117),s=n(r(11700)),d=r(97132),f=n(r(73009));function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}var m=function(e){var t=e.childrenForm,r=e.kind,n=e.name,a=e.isOpen,l=e.isFormDisabled,p=e.isWhite,m=e.onOpenCategory,h=e.pathToData,y=(0,d.useIntl)().formatMessage,v=(0,i.useMemo)((function(){return n.split("::").pop()}),[n]);return i.default.createElement(u.Accordion,{expanded:a,toggle:function(){m(n)},id:"accordion-".concat(n),variant:p?"primary":"secondary"},i.default.createElement(u.AccordionToggle,{title:(0,s.default)(v),description:"".concat(y({id:"Settings.permissions.category"},{category:v})," ").concat("plugins"===r?"plugin":r)}),i.default.createElement(u.AccordionContent,null,i.default.createElement(c.Box,{padding:6},t.map((function(e){var t=e.actions,r=e.subCategoryName,n=e.subCategoryId;return i.default.createElement(f.default,{key:r,actions:t,categoryName:v,isFormDisabled:l,subCategoryName:r,pathToData:[].concat((0,o.default)(h),[n])})})))))};m.defaultProps={},m.propTypes={childrenForm:l.default.array.isRequired,isOpen:l.default.bool.isRequired,isFormDisabled:l.default.bool.isRequired,isWhite:l.default.bool.isRequired,kind:l.default.string.isRequired,name:l.default.string.isRequired,onOpenCategory:l.default.func.isRequired,pathToData:l.default.array.isRequired};var h=m;t.default=h},73009:(e,t,r)=>{var n=r(95318),a=r(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(319)),i=n(r(63038)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var r=E(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(53547)),u=n(r(78384)),c=n(r(45697)),s=r(39272),d=r(94117),f=r(43499),p=r(40264),m=r(33483),h=r(97132),y=n(r(27361)),v=r(63376),g=r(89362),b=n(r(30380)),O=n(r(47173)),w=r(54972);function E(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(E=function(e){return e?r:t})(e)}var C=window&&window.strapi&&window.strapi.isEE?r(42391).Z:r(92534).Z,j=u.default.div.withConfig({displayName:"SubCategory__Border",componentId:"sc-akgczm-0"})(["flex:1;align-self:center;border-top:1px solid ",";"],(function(e){return e.theme.colors.neutral150})),P=u.default.div.withConfig({displayName:"SubCategory__CheckboxWrapper",componentId:"sc-akgczm-1"})(["position:relative;word-break:keep-all;",""],(function(e){var t=e.hasConditions,r=e.disabled,n=e.theme;return t&&"\n    &:before {\n      content: '';\n      position: absolute;\n      top: ".concat(-.25,"rem;\n      left: ").concat(-.5,"rem;\n      width: ").concat(6/16,"rem;\n      height: ").concat(6/16,"rem;\n      border-radius: ").concat(1.25,"rem;\n      background: ").concat(r?n.colors.neutral100:n.colors.primary600,";\n    }\n  ")})),k=function(e){var t=e.categoryName,r=e.isFormDisabled,n=e.subCategoryName,a=e.actions,u=e.pathToData,c=(0,l.useState)(!1),E=(0,i.default)(c,2),k=E[0],x=E[1],_=(0,v.usePermissionsDataManager)(),M=_.modifiedData,S=_.onChangeParentCheckbox,D=_.onChangeSimpleCheckbox,T=(0,h.useIntl)().formatMessage,L=(0,y.default)(M,u,{}),R=(0,l.useMemo)((function(){return Object.keys(L).reduce((function(e,t){return e[t]=(0,g.removeConditionKeyFromData)(L[t]),e}),{})}),[L]),A=(0,g.getCheckboxState)(R),N=A.hasAllActionsSelected,F=A.hasSomeActionsSelected,I=function(){x((function(e){return!e}))},q=(0,w.formatActions)(a,M,u),W=(0,w.getConditionsButtonState)((0,y.default)(M,(0,o.default)(u),{}));return l.default.createElement(l.default.Fragment,null,l.default.createElement(d.Box,null,l.default.createElement(p.Flex,{justifyContent:"space-between",alignItems:"center"},l.default.createElement(d.Box,{paddingRight:4},l.default.createElement(m.Typography,{variant:"sigma",textColor:"neutral600"},n)),l.default.createElement(j,null),l.default.createElement(d.Box,{paddingLeft:4},l.default.createElement(f.Checkbox,{name:u.join(".."),disabled:r||C,onValueChange:function(e){S({target:{name:u.join(".."),value:e}})},indeterminate:F,value:N},T({id:"app.utils.select-all",defaultMessage:"Select all"})))),l.default.createElement(p.Flex,{paddingTop:6,paddingBottom:6},l.default.createElement(s.Grid,{gap:2,style:{flex:1}},q.map((function(e){var t=e.checkboxName,n=e.value,a=e.action,o=e.displayName,i=e.hasConditions;return l.default.createElement(s.GridItem,{col:3,key:a},l.default.createElement(P,{disabled:r||C,hasConditions:i},l.default.createElement(f.Checkbox,{name:t,disabled:r||C,onValueChange:function(e){D({target:{name:t,value:e}})},value:n},o)))}))),l.default.createElement(b.default,{hasConditions:W,onClick:I}))),k&&l.default.createElement(O.default,{headerBreadCrumbs:[t,n],actions:q,isFormDisabled:r,onClosed:function(){x(!1)},onToggle:I}))};k.propTypes={actions:c.default.array.isRequired,categoryName:c.default.string.isRequired,isFormDisabled:c.default.bool.isRequired,subCategoryName:c.default.string.isRequired,pathToData:c.default.array.isRequired};var x=k;t.default=x},92534:(e,t)=>{t.Z=void 0;t.Z=true},63806:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(59713)),o=n(r(319)),i=r(96486),l=r(89362);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=function(e,t,r){return e.map((function(e){var n=[].concat((0,o.default)(r),[e.action,"properties","enabled"]),a=(0,i.get)(t,n,!1),u=(0,i.get)(t,[].concat((0,o.default)(r),[e.action,"conditions"]),{}),s=(0,l.createArrayOfValues)(u).some((function(e){return e}));return c(c({},e),{},{isDisplayed:a,checkboxName:n.join(".."),hasSomeActionsSelected:a,value:a,hasConditions:s,label:e.displayName,actionId:e.action,pathToConditionsObject:[].concat((0,o.default)(r),[e.action])})}))};t.default=s},25236:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(63038)),o=r(89362),i=function(e){var t=Object.entries(e).reduce((function(e,t){var r=(0,a.default)(t,2),n=r[0],o=r[1].conditions;return e[n]=o,e}),{});return(0,o.createArrayOfValues)(t).some((function(e){return e}))};t.default=i},54972:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"formatActions",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"getConditionsButtonState",{enumerable:!0,get:function(){return o.default}});var a=n(r(63806)),o=n(r(25236))},3030:(e,t,r)=>{var n=r(95318),a=r(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(63038)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(53547)),l=n(r(45697)),u=r(94117),c=n(r(90240));function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var d=function(e){var t=e.isFormDisabled,r=e.kind,n=e.layout,a=(0,i.useState)(null),l=(0,o.default)(a,2),s=l[0],d=l[1],f=function(e){d(e===s?null:e)};return i.default.createElement(u.Box,{padding:6,background:"neutral0"},n.map((function(e,n){var a=e.category,o=e.categoryId,l=e.childrenForm;return i.default.createElement(c.default,{key:a,childrenForm:l,kind:r,isFormDisabled:t,isOpen:s===a,isWhite:n%2===1,name:a,onOpenCategory:f,pathToData:[r,o]})})))};d.propTypes={isFormDisabled:l.default.bool.isRequired,kind:l.default.string.isRequired,layout:l.default.arrayOf(l.default.shape({category:l.default.string.isRequired,categoryId:l.default.string.isRequired,childrenForm:l.default.arrayOf(l.default.shape({actions:l.default.array.isRequired})).isRequired}).isRequired).isRequired};var f=d;t.default=f},92395:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(53547)),o=n(r(78384)).default.span.withConfig({displayName:"RequiredSign__Required",componentId:"sc-13rz75o-0"})(["color:",";padding-left:","px;"],(function(e){return e.theme.colors.danger700}),(function(e){return e.theme.spaces[1]})),i=function(){return a.default.createElement(o,null,"*")};t.default=i},43148:(e,t,r)=>{var n=r(95318),a=r(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(67154)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(53547)),l=n(r(45697)),u=r(46458),c=r(94117),s=r(40264),d=r(33483),f=n(r(11700)),p=r(97132),m=n(r(21950)),h=r(12037);function y(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}var v=function(e){var t=e.children,r=e.isCollapsable,n=e.isActive,a=e.isFormDisabled,l=e.label,y=e.onChange,v=e.onClick,g=e.checkboxName,b=e.someChecked,O=e.value,w=(0,p.useIntl)().formatMessage;return i.default.createElement(s.Flex,{alignItems:"center",paddingLeft:6,style:{width:h.firstRowWidth,flexShrink:0}},i.default.createElement(c.Box,{paddingRight:2},i.default.createElement(u.BaseCheckbox,{name:g,"aria-label":w({id:"Settings.permissions.select-all-by-permission",defaultMessage:"Select all {label} permissions"},{label:l}),disabled:a,onValueChange:function(e){return y({target:{name:g,value:e}})},indeterminate:b,value:O})),i.default.createElement(m.default,(0,o.default)({title:l,alignItems:"center",isCollapsable:r},r&&{onClick:v,"aria-expanded":n,onKeyDown:function(e){var t=e.key;return("Enter"===t||" "===t)&&v()},tabIndex:0,role:"button"}),i.default.createElement(d.Typography,{fontWeight:n?"bold":"",textColor:n?"primary600":"neutral800",ellipsis:!0},(0,f.default)(l)),t))};v.defaultProps={children:null,checkboxName:"",onChange:function(){},value:!1,someChecked:!1,isCollapsable:!1},v.propTypes={checkboxName:l.default.string,children:l.default.node,label:l.default.string.isRequired,isCollapsable:l.default.bool,isFormDisabled:l.default.bool.isRequired,onChange:l.default.func,onClick:l.default.func.isRequired,someChecked:l.default.bool,value:l.default.bool,isActive:l.default.bool.isRequired};var g=(0,i.memo)(v);t.default=g},79793:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(96486),a=function e(t){return(0,n.isObject)(t)?(0,n.flattenDeep)(Object.values(t).map((function(t){return(0,n.isObject)(t)?e(t):t}))):[]};t.default=a},18450:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(79793)),o=n(r(79634)),i=function(e){var t=(0,o.default)(e),r=(0,a.default)(t);if(!r.length)return{hasAllActionsSelected:!1,hasSomeActionsSelected:!1};var n=r.every((function(e){return e}));return{hasAllActionsSelected:n,hasSomeActionsSelected:r.some((function(e){return e}))&&!n}};t.default=i},89362:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createArrayOfValues",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"getCheckboxState",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"removeConditionKeyFromData",{enumerable:!0,get:function(){return i.default}});var a=n(r(18450)),o=n(r(79793)),i=n(r(79634))},79634:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e?Object.keys(e).reduce((function(t,r){return"conditions"!==r&&(t[r]=e[r]),t}),{}):null};t.default=r},6648:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){return"todo empty role"}},62799:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(67154)),o=n(r(53547)),i=n(r(45697)),l=r(94117),u=r(40264),c=r(43546),s=r(33483),d=r(49549),f=r(79835),p=r(97132),m=function(e){var t=e.id,r=e.name,n=e.description,i=e.usersCount,m=e.icons,h=(0,(0,p.useIntl)().formatMessage)({id:"Roles.RoleRow.user-count",defaultMessage:"{number, plural, =0 {#  user} one {#  user} other {# users}}"},{number:i});return o.default.createElement(c.Tr,(0,a.default)({key:t},(0,f.onRowClick)({fn:m[1].onClick})),o.default.createElement(c.Td,{maxWidth:(0,f.pxToRem)(130)},o.default.createElement(s.Typography,{ellipsis:!0,textColor:"neutral800"},r)),o.default.createElement(c.Td,{maxWidth:(0,f.pxToRem)(250)},o.default.createElement(s.Typography,{ellipsis:!0,textColor:"neutral800"},n)),o.default.createElement(c.Td,null,o.default.createElement(s.Typography,{textColor:"neutral800"},h)),o.default.createElement(c.Td,null,o.default.createElement(u.Flex,(0,a.default)({justifyContent:"flex-end"},f.stopPropagation),m.map((function(e,t){return e?o.default.createElement(l.Box,{key:e.label,paddingLeft:0===t?0:1},o.default.createElement(d.IconButton,{onClick:e.onClick,label:e.label,noBorder:!0,icon:e.icon})):null})))))};m.propTypes={id:i.default.number.isRequired,name:i.default.string.isRequired,description:i.default.string.isRequired,usersCount:i.default.number.isRequired,icons:i.default.array.isRequired};var h=m;t.default=h},54463:(e,t,r)=>{var n=r(95318),a=r(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(63038)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var r=P(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(53547)),l=n(r(63852)),u=r(79835),c=n(r(89326)),s=n(r(62982)),d=n(r(56204)),f=n(r(54279)),p=r(64459),m=r(35395),h=r(43546),y=r(33483),v=r(80117),g=r(19631),b=r(97132),O=r(39711),w=n(r(62799)),E=n(r(6648)),C=n(r(78924)),j=r(63376);function P(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(P=function(e){return e?r:t})(e)}var k=function(){var e=(0,b.useIntl)().formatMessage;(0,u.useFocusWhenNavigate)();var t=function(){var e=(0,j.useRolesList)(),t=e.roles,r=e.isLoading,n=(0,u.useQuery)(),a=decodeURIComponent(n.get("_q")||"");return{isLoading:r,sortedRoles:(0,l.default)(t,a,{keys:["name","description"]})}}(),r=t.sortedRoles,n=t.isLoading,a=function(){var e=(0,b.useIntl)().formatMessage,t=(0,i.useState)(!1),r=(0,o.default)(t,2),n=r[0],a=r[1],l=(0,u.useTracking)().trackUsage,c=(0,O.useHistory)().push,p=(0,i.useCallback)((function(e){c("/settings/roles/".concat(e))}),[c]),m=(0,i.useCallback)((function(){a((function(e){return!e}))}),[]),h=(0,i.useCallback)((function(){l("didShowRBACUpgradeModal"),a(!0)}),[l]),y=(0,i.useCallback)((function(t){return[{onClick:m,label:e({id:"app.utils.duplicate",defaultMessage:"Duplicate"}),icon:i.default.createElement(f.default,null)},{onClick:function(){return p(t.id)},label:e({id:"app.utils.edit",defaultMessage:"Edit"}),icon:i.default.createElement(d.default,null)},{onClick:m,label:e({id:"app.utils.delete",defaultMessage:"Delete"}),icon:i.default.createElement(s.default,null)}]}),[e,m,p]);return{isModalOpen:n,handleToggleModalForCreatingRole:h,handleToggle:m,getIcons:y}}(),P=a.isModalOpen,k=a.handleToggle,x=a.handleToggleModalForCreatingRole,_=a.getIcons,M=r.length+1;return i.default.createElement(v.Main,null,i.default.createElement(u.SettingsPageTitle,{name:"Roles"}),i.default.createElement(m.HeaderLayout,{primaryAction:i.default.createElement(p.Button,{onClick:x,startIcon:i.default.createElement(c.default,null),size:"L"},e({id:"Settings.roles.list.button.add",defaultMessage:"Add new role"})),title:e({id:"Settings.roles.title",defaultMessage:"roles"}),subtitle:e({id:"Settings.roles.list.description",defaultMessage:"List of roles"})}),i.default.createElement(m.ContentLayout,null,i.default.createElement(h.Table,{colCount:5,rowCount:M,footer:i.default.createElement(h.TFooter,{onClick:x,icon:i.default.createElement(c.default,null)},e({id:"Settings.roles.list.button.add",defaultMessage:"Add new role"}))},i.default.createElement(h.Thead,null,i.default.createElement(h.Tr,null,i.default.createElement(h.Th,null,i.default.createElement(y.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"Settings.roles.list.header.name",defaultMessage:"Name"}))),i.default.createElement(h.Th,null,i.default.createElement(y.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"Settings.roles.list.header.description",defaultMessage:"Description"}))),i.default.createElement(h.Th,null,i.default.createElement(y.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"Settings.roles.list.header.users",defaultMessage:"Users"}))),i.default.createElement(h.Th,null,i.default.createElement(g.VisuallyHidden,null,e({id:"Settings.roles.list.header.actions",defaultMessage:"Actions"}))))),i.default.createElement(h.Tbody,null,null===r||void 0===r?void 0:r.map((function(e){return i.default.createElement(w.default,{key:e.id,id:e.id,name:e.name,description:e.description,usersCount:e.usersCount,icons:_(e)})})))),!M&&!n&&i.default.createElement(E.default,null)),i.default.createElement(C.default,{isOpen:P,onClose:k}))};t.default=k},19160:(e,t,r)=>{var n=r(95318);t.Z=void 0;var a=n(r(53547)),o=r(79835),i=n(r(13240)),l=n(r(54463)),u=function(){return a.default.createElement(o.CheckPagePermissions,{permissions:i.default.settings.roles.main},a.default.createElement(l.default,null))};t.Z=u},21609:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(94654)),o=r(26595),i=function(e){return(0,a.default)(e,(function(e){return e.links})).map((function(e){return(0,o.createRoute)(e.Component,e.to,e.exact||!1)}))};t.default=i},2971:(e,t)=>{t.Z=void 0;var r=[];t.Z=r},1514:(e,t,r)=>{var n=r(95318),a=r(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(48926));function i(){i=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",l=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(_){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),i=new P(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return x()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var l=E(i,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=d(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,i),o}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(_){return{type:"throw",arg:_}}}e.wrap=s;var f={};function p(){}function m(){}function h(){}var y={};c(y,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(y=g);var b=h.prototype=p.prototype=Object.create(y);function O(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,i,l,u){var c=d(e[o],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==a(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,l,u)}),(function(e){n("throw",e,l,u)})):t.resolve(f).then((function(e){s.value=e,l(s)}),(function(e){return n("throw",e,l,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=d(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return m.prototype=h,c(b,"constructor",h),c(h,"constructor",m),m.displayName=c(h,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},O(w.prototype),c(w.prototype,l,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(b),c(b,u,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var l=window&&window.strapi&&window.strapi.isEE?r(58556).ZP:r(7126).Z,u=window&&window.strapi&&window.strapi.isEE?r(96734).Z:r(19160).Z,c=[{Component:function(){return{default:u}},to:"/settings/roles",exact:!0},{Component:function(){return{default:l}},to:"/settings/roles/duplicate/:id",exact:!0},{Component:function(){return{default:l}},to:"/settings/roles/new",exact:!0},{Component:function(){var e=(0,o.default)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(2544).then(r.bind(r,19144));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/roles/:id",exact:!0},{Component:function(){var e=(0,o.default)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(6393),r.e(5199)]).then(r.bind(r,42222));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/users",exact:!0},{Component:function(){var e=(0,o.default)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(6393),r.e(4263)]).then(r.bind(r,20262));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/users/:id",exact:!0},{Component:function(){var e=(0,o.default)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(8252),r.e(5162)]).then(r.bind(r,39616));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/webhooks/create",exact:!0},{Component:function(){var e=(0,o.default)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(8252),r.e(5162)]).then(r.bind(r,56454));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/webhooks/:id",exact:!0},{Component:function(){var e=(0,o.default)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(4121).then(r.bind(r,94859));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/webhooks",exact:!0},{Component:function(){var e=(0,o.default)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(8056).then(r.bind(r,76796));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/api-tokens",exact:!0},{Component:function(){var e=(0,o.default)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(9568),r.e(4299)]).then(r.bind(r,3441));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/api-tokens/create",exact:!0},{Component:function(){var e=(0,o.default)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(9568),r.e(92)]).then(r.bind(r,70593));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/api-tokens/:id",exact:!0}];t.default=c},56147:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e.filter((function(e){return!e.links.every((function(e){return!1===e.isDisplayed}))}))};t.default=r},77040:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createSectionsRoutes",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"getSectionsToDisplay",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"routes",{enumerable:!0,get:function(){return i.default}});var a=n(r(21609)),o=n(r(56147)),i=n(r(53197))},53197:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(319)),o=n(r(1514)),i=window&&window.strapi&&window.strapi.isEE?r(5007).Z:r(2971).Z,l=[].concat((0,a.default)(i),(0,a.default)(o.default));t.default=l},58556:(e,t,r)=>{var n=r(25108),a=r(95318),o=r(50008);t.ZP=void 0;var i=a(r(48926)),l=a(r(63038)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!==typeof e)return{default:e};var r=L(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=a?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(53547)),c=a(r(30381)),s=r(79835),d=r(94117),f=r(64459),p=r(35395),m=r(39272),h=r(80117),y=r(56156),v=r(40264),g=r(9524),b=r(33483),O=r(99136),w=r(78607),E=a(r(87760)),C=r(80831),j=a(r(27361)),P=a(r(41609)),k=r(97132),x=r(39711),_=a(r(78384)),M=a(r(74716)),S=r(63376),D=a(r(13240)),T=a(r(21251));function L(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(L=function(e){return e?r:t})(e)}function R(){R=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(x){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new j(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return k()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var l=w(i,r);if(l){if(l===d)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=c;var d={};function f(){}function p(){}function m(){}var h={};u(h,a,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(P([])));v&&v!==t&&r.call(v,a)&&(h=v);var g=m.prototype=f.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,i,l,u){var c=s(e[a],e,i);if("throw"!==c.type){var d=c.arg,f=d.value;return f&&"object"==o(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,l,u)}),(function(e){n("throw",e,l,u)})):t.resolve(f).then((function(e){d.value=e,l(d)}),(function(e){return n("throw",e,l,u)}))}u(c.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=m,u(g,"constructor",m),u(m,"constructor",p),p.displayName=u(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(O.prototype),u(O.prototype,i,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new O(c(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),u(g,l,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=P,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;C(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var A=_.default.div.withConfig({displayName:"CreatePage__UsersRoleNumber",componentId:"sc-f7k9id-0"})(["border:1px solid ",";background:",";padding:",";color:",";border-radius:",";font-size:","rem;font-width:bold;"],(function(e){return e.theme.colors.primary200}),(function(e){return e.theme.colors.primary100}),(function(e){var t=e.theme;return"".concat(t.spaces[2]," ").concat(t.spaces[4])}),(function(e){return e.theme.colors.primary600}),(function(e){return e.theme.borderRadius}),.75),N=function(){var e=(0,s.useNotification)(),t=(0,s.useOverlayBlocker)(),r=t.lockApp,a=t.unlockApp,o=(0,k.useIntl)().formatMessage,_=(0,u.useState)(!1),D=(0,l.default)(_,2),L=D[0],N=D[1],F=(0,x.useHistory)().replace,I=(0,u.useRef)(),q=(0,s.useTracking)().trackUsage,W=(0,x.useRouteMatch)("/settings/roles/duplicate/:id"),B=(0,j.default)(W,"params.id",null),G=(0,S.useFetchPermissionsLayout)(),Z=G.isLoading,H=G.data,U=(0,S.useFetchRole)(B),z=U.permissions,V=U.isLoading,Y="".concat(o({id:"Settings.roles.form.created",defaultMessage:"Created"})," ").concat((0,c.default)().format("LL"));return u.default.createElement(h.Main,null,u.default.createElement(s.SettingsPageTitle,{name:"Roles"}),u.default.createElement(C.Formik,{initialValues:{name:"",description:Y},onSubmit:function(t){r(),N(!0),q(B?"willDuplicateRole":"willCreateNewRole"),Promise.resolve((0,s.request)("/admin/roles",{method:"POST",body:t})).then(function(){var e=(0,i.default)(R().mark((function e(t){var r,n;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=I.current.getPermissions(),n=r.permissionsToSend,q(B?"didDuplicateRole":"didCreateNewRole"),!t.data.id||(0,P.default)(n)){e.next=5;break}return e.next=5,(0,s.request)("/admin/roles/".concat(t.data.id,"/permissions"),{method:"PUT",body:{permissions:n}});case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(t){N(!1),e({type:"success",message:{id:"Settings.roles.created",defaultMessage:"created"}}),F("/settings/roles/".concat(t.data.id))})).catch((function(t){n.error(t),N(!1),e({type:"warning",message:{id:"notification.error"}})})).finally((function(){a()}))},validationSchema:T.default,validateOnChange:!1},(function(e){var t=e.handleSubmit,r=e.values,n=e.errors,a=e.handleReset,i=e.handleChange;return u.default.createElement(s.Form,{noValidate:!0},u.default.createElement(u.default.Fragment,null,u.default.createElement(p.HeaderLayout,{primaryAction:u.default.createElement(g.Stack,{horizontal:!0,size:2},u.default.createElement(f.Button,{variant:"secondary",onClick:function(){a(),I.current.resetForm()},size:"L"},o({id:"app.components.Button.reset",defaultMessage:"Reset"})),u.default.createElement(f.Button,{onClick:t,loading:L,size:"L"},o({id:"app.components.Button.save",defaultMessage:"Save"}))),title:o({id:"Settings.roles.create.title",defaultMessage:"Create a role"}),subtitle:o({id:"Settings.roles.create.description",defaultMessage:"Define the rights given to the role"}),navigationAction:u.default.createElement(y.Link,{startIcon:u.default.createElement(E.default,null),to:"/settings/roles"},o({id:"app.components.go-back",defaultMessage:"Back"}))}),u.default.createElement(p.ContentLayout,null,u.default.createElement(g.Stack,{size:6},u.default.createElement(d.Box,{background:"neutral0",padding:6,shadow:"filterShadow",hasRadius:!0},u.default.createElement(g.Stack,{size:4},u.default.createElement(v.Flex,{justifyContent:"space-between"},u.default.createElement(d.Box,null,u.default.createElement(d.Box,null,u.default.createElement(b.Typography,{fontWeight:"bold"},o({id:"Settings.roles.form.title",defaultMessage:"Details"}))),u.default.createElement(d.Box,null,u.default.createElement(b.Typography,{variant:"pi",textColor:"neutral600"},o({id:"Settings.roles.form.description",defaultMessage:"Name and description of the role"})))),u.default.createElement(A,null,o({id:"Settings.roles.form.button.users-with-role",defaultMessage:"{number, plural, =0 {# users} one {# user} other {# users}} with this role"},{number:0}))),u.default.createElement(m.Grid,{gap:4},u.default.createElement(m.GridItem,{col:6},u.default.createElement(O.TextInput,{name:"name",error:n.name&&o({id:n.name}),label:o({id:"Settings.roles.form.input.name",defaultMessage:"Name"}),onChange:i,value:r.name})),u.default.createElement(m.GridItem,{col:6},u.default.createElement(w.Textarea,{label:o({id:"Settings.roles.form.input.description",defaultMessage:"Description"}),name:"description",error:n.description&&o({id:n.description}),onChange:i},r.description))))),Z||V?u.default.createElement(d.Box,{background:"neutral0",padding:6,shadow:"filterShadow",hasRadius:!0},u.default.createElement(s.LoadingIndicatorPage,null)):u.default.createElement(d.Box,{shadow:"filterShadow",hasRadius:!0},u.default.createElement(M.default,{isFormDisabled:!1,ref:I,permissions:z,layout:H}))))))})))};t.ZP=function(){return u.default.createElement(s.CheckPagePermissions,{permissions:D.default.settings.roles.create},u.default.createElement(N,null))}},21251:(e,t,r)=>{var n=r(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=o?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(a,l,u):a[l]=e[l]}a.default=e,r&&r.set(e,a);return a}(r(53209)),o=r(79835);function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}var l=a.object().shape({name:a.string().required(o.translatedErrors.required),description:a.string().required(o.translatedErrors.required)});t.default=l},6561:(e,t)=>{t.Z=void 0;t.Z=false},38706:(e,t)=>{t.Z=void 0;t.Z=false},11720:(e,t)=>{t.Z=void 0;t.Z=false},48535:(e,t)=>{t.Z=void 0;t.Z=false},70398:(e,t)=>{t.Z=void 0;t.Z=false},42391:(e,t)=>{t.Z=void 0;t.Z=false},33608:(e,t,r)=>{var n=r(95318),a=r(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(319)),i=n(r(48926)),l=n(r(63038)),u=D(r(53547)),c=r(79835),s=n(r(89326)),d=n(r(62982)),f=n(r(54279)),p=n(r(56204)),m=r(64459),h=r(35395),y=r(19631),v=r(80117),g=r(43546),b=r(33483),O=r(96486),w=n(r(63852)),E=r(97132),C=r(39711),j=r(53777),P=r(63376),k=n(r(13240)),x=n(r(6648)),_=n(r(62799)),M=D(r(12717));function S(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(S=function(e){return e?r:t})(e)}function D(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var r=S(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function T(){T=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(x){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new j(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return k()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var l=w(i,r);if(l){if(l===d)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=c;var d={};function f(){}function p(){}function m(){}var h={};u(h,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(P([])));v&&v!==t&&r.call(v,o)&&(h=v);var g=m.prototype=f.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,l,u){var c=s(e[o],e,i);if("throw"!==c.type){var d=c.arg,f=d.value;return f&&"object"==a(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,l,u)}),(function(e){n("throw",e,l,u)})):t.resolve(f).then((function(e){d.value=e,l(d)}),(function(e){return n("throw",e,l,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=m,u(g,"constructor",m),u(m,"constructor",p),p.displayName=u(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(O.prototype),u(O.prototype,i,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new O(c(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),u(g,l,"Generator"),u(g,o,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=P,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;C(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var L=function(){var e=(0,E.useIntl)().formatMessage,t=function(){(0,c.useFocusWhenNavigate)();var e=(0,c.useRBAC)(k.default.settings.roles),t=e.isLoading,r=e.allowedActions,n=r.canCreate,a=r.canDelete,o=r.canRead,i=r.canUpdate,s=(0,P.useRolesList)(!1),d=s.getData,f=s.roles,p=s.isLoading,m=(0,c.useQueryParams)(),h=(0,l.default)(m,1)[0].query,y=(null===h||void 0===h?void 0:h._q)||"",v=(0,w.default)(f,y,{keys:["name","description"]});return(0,u.useEffect)((function(){!t&&o&&d()}),[t,o,d]),{isLoadingForPermissions:t,canCreate:n,canDelete:a,canRead:o,canUpdate:i,isLoading:p,getData:d,sortedRoles:v,roles:f}}(),r=t.isLoadingForPermissions,n=t.canCreate,a=t.canRead,S=t.canDelete,D=t.canUpdate,L=t.isLoading,R=t.getData,A=t.sortedRoles,N=function(e){var t=e.getData,r=e.canCreate,n=e.canDelete,a=e.canUpdate,s=(0,E.useIntl)().formatMessage,m=(0,c.useNotification)(),h=(0,u.useState)(!1),y=(0,l.default)(h,2),v=y[0],g=y[1],b=(0,C.useHistory)().push,w=(0,u.useReducer)(M.default,M.initialState),P=(0,l.default)(w,2),k=P[0],x=k.selectedRoles,_=k.showModalConfirmButtonLoading,S=k.roleToDelete,D=P[1],L=function(){var e=(0,i.default)(T().mark((function e(){var r,n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,D({type:"ON_REMOVE_ROLES"}),e.next=4,j.axiosInstance.post("/admin/roles/batch-delete",{ids:[S]});case 4:return e.next=6,t();case 6:D({type:"RESET_DATA_TO_DELETE"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),(r=(0,O.get)(e.t0,["response","payload","data","ids"],null))&&Array.isArray(r)?(n=r.join("\n"),m({type:"warning",message:n})):m({type:"warning",message:{id:"notification.error"}});case 13:N();case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),R=(0,u.useCallback)((function(e){b("/settings/roles/duplicate/".concat(e))}),[b]),A=(0,u.useCallback)((function(e){D({type:"SET_ROLE_TO_DELETE",id:e}),N()}),[]),N=function(){return g((function(e){return!e}))},F=(0,u.useCallback)((function(e){b("/settings/roles/".concat(e))}),[b]),I=(0,u.useCallback)((function(e,t){e.preventDefault(),e.stopPropagation(),t.usersCount?m({type:"info",message:{id:"Roles.ListPage.notification.delete-not-allowed"}}):A(t.id)}),[m,A]),q=(0,u.useCallback)((function(e,t){e.preventDefault(),e.stopPropagation(),R(t.id)}),[R]);return{handleNewRoleClick:function(){return b("/settings/roles/new")},getIcons:(0,u.useCallback)((function(e){return[].concat((0,o.default)(r?[{onClick:function(t){return q(t,e)},label:s({id:"app.utils.duplicate",defaultMessage:"Duplicate"}),icon:u.default.createElement(f.default,null)}]:[]),(0,o.default)(a?[{onClick:function(){return F(e.id)},label:s({id:"app.utils.edit",defaultMessage:"Edit"}),icon:u.default.createElement(p.default,null)}]:[]),(0,o.default)(n?[{onClick:function(t){return I(t,e)},label:s({id:"app.utils.delete",defaultMessage:"Delete"}),icon:u.default.createElement(d.default,null)}]:[]))}),[s,I,q,F,r,a,n]),selectedRoles:x,isWarningDeleteAllOpened:v,showModalConfirmButtonLoading:_,handleToggleModal:N,handleDeleteData:L}}({getData:R,canCreate:n,canDelete:S,canUpdate:D}),F=N.handleNewRoleClick,I=N.getIcons,q=N.isWarningDeleteAllOpened,W=N.showModalConfirmButtonLoading,B=N.handleToggleModal,G=N.handleDeleteData,Z=A.length+1;if(r)return u.default.createElement(v.Main,null,u.default.createElement(c.LoadingIndicatorPage,null));var H=e({id:"Settings.roles.title",defaultMessage:"roles"});return u.default.createElement(v.Main,null,u.default.createElement(c.SettingsPageTitle,{name:"Roles"}),u.default.createElement(h.HeaderLayout,{primaryAction:n?u.default.createElement(m.Button,{onClick:F,startIcon:u.default.createElement(s.default,null),size:"L"},e({id:"Settings.roles.list.button.add",defaultMessage:"Add new role"})):null,title:H,subtitle:e({id:"Settings.roles.list.description",defaultMessage:"List of roles"}),as:"h2"}),a&&u.default.createElement(h.ActionLayout,{startActions:u.default.createElement(c.SearchURLQuery,{label:e({id:"app.component.search.label",defaultMessage:"Search for {target}"},{target:H})})}),a&&u.default.createElement(h.ContentLayout,null,u.default.createElement(g.Table,{colCount:6,rowCount:Z,footer:n?u.default.createElement(g.TFooter,{onClick:F,icon:u.default.createElement(s.default,null)},e({id:"Settings.roles.list.button.add",defaultMessage:"Add new role"})):null},u.default.createElement(g.Thead,null,u.default.createElement(g.Tr,null,u.default.createElement(g.Th,null,u.default.createElement(b.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"Settings.roles.list.header.name",defaultMessage:"Name"}))),u.default.createElement(g.Th,null,u.default.createElement(b.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"Settings.roles.list.header.description",defaultMessage:"Description"}))),u.default.createElement(g.Th,null,u.default.createElement(b.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"Settings.roles.list.header.users",defaultMessage:"Users"}))),u.default.createElement(g.Th,null,u.default.createElement(y.VisuallyHidden,null,e({id:"Settings.roles.list.header.actions",defaultMessage:"Actions"}))))),u.default.createElement(g.Tbody,null,null===A||void 0===A?void 0:A.map((function(e){return u.default.createElement(_.default,{key:e.id,id:e.id,name:e.name,description:e.description,usersCount:e.usersCount,icons:I(e)})})))),!Z&&!L&&u.default.createElement(x.default,null)),u.default.createElement(c.ConfirmDialog,{isOpen:q,onConfirm:G,isConfirmButtonLoading:W,onToggleDialog:B}))};t.default=L},12717:(e,t,r)=>{var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.default=void 0;var a=n(r(66312));t.initialState={roleToDelete:null,showModalConfirmButtonLoading:!1,shouldRefetchData:!1};var o=function(e,t){return(0,a.default)(e,(function(e){switch(t.type){case"ON_REMOVE_ROLES":e.showModalConfirmButtonLoading=!0;break;case"ON_REMOVE_ROLES_SUCCEEDED":e.shouldRefetchData=!0,e.roleToDelete=null;break;case"RESET_DATA_TO_DELETE":e.shouldRefetchData=!1,e.roleToDelete=null,e.showModalConfirmButtonLoading=!1;break;case"SET_ROLE_TO_DELETE":e.roleToDelete=t.id;break;default:return e}}))};t.default=o},96734:(e,t,r)=>{var n=r(95318);t.Z=void 0;var a=n(r(53547)),o=r(79835),i=n(r(13240)),l=n(r(33608)),u=function(){return a.default.createElement(o.CheckPagePermissions,{permissions:i.default.settings.roles.main},a.default.createElement(l.default,null))};t.Z=u},5007:(e,t,r)=>{var n=r(95318),a=r(50008);t.Z=void 0;var o=n(r(48926));function i(){i=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",l=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(_){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),i=new P(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return x()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var l=E(i,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=d(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,i),o}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(_){return{type:"throw",arg:_}}}e.wrap=s;var f={};function p(){}function m(){}function h(){}var y={};c(y,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(y=g);var b=h.prototype=p.prototype=Object.create(y);function O(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,i,l,u){var c=d(e[o],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==a(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,l,u)}),(function(e){n("throw",e,l,u)})):t.resolve(f).then((function(e){s.value=e,l(s)}),(function(e){return n("throw",e,l,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=d(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return m.prototype=h,c(b,"constructor",h),c(h,"constructor",m),m.displayName=c(h,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},O(w.prototype),c(w.prototype,l,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(b),c(b,u,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var l=strapi.features.isEnabled(strapi.features.SSO)?[{Component:function(){var e=(0,o.default)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(302).then(r.bind(r,66554));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/single-sign-on",exact:!0}]:[],u=[].concat(l);t.Z=u},12285:(e,t,r)=>{e.exports=r.p+"c3de6118ef47086ad05c.png"},31652:(e,t,r)=>{e.exports=r.p+"bd81ba6c07827282255d.png"}}]);